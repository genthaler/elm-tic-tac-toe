!function(){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},e={},t=r.parcelRequired732;null==t&&((t=function(r){if(r in n)return n[r].exports;if(r in e){var t=e[r];delete e[r];var u={id:r,exports:{}};return n[r]=u,t.call(u.exports,u,u.exports),u.exports}var o=Error("Cannot find module '"+r+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(r,n){e[r]=n},r.parcelRequired732=t);var u=t.register;u("1t6aQ",function(r,n){let e;var u=t("ektWR");console.log("Elm object:",u.Elm),console.log("Available Elm modules:",Object.keys(u.Elm||{}));try{if(!u.Elm||!u.Elm.TicTacToe.GameWorker)throw Error("GameWorker module not available. Available modules: "+Object.keys(u.Elm||{}));e=u.Elm.TicTacToe.GameWorker.init(),console.log("GameWorker initialized successfully")}catch(r){throw console.error("Failed to initialize GameWorker:",r),self.postMessage({type:"GameError",errorInfo:{message:"Worker initialization failed: "+r.message,errorType:"WorkerCommunicationError",recoverable:!0}}),r}self.onerror=r=>{console.error("Worker self error:",r)},self.onunhandledrejection=r=>{console.error("Worker unhandled rejection:",r)},self.onmessage=function({data:r}){console.log("data in worker",r),e&&e.ports&&e.ports.getModel?e.ports.getModel.send(r):(console.error("App or ports not available"),self.postMessage({type:"GameError",errorInfo:{message:"Worker app not properly initialized",errorType:"WorkerCommunicationError",recoverable:!0}}))},e&&e.ports&&e.ports.sendMove?e.ports.sendMove.subscribe(function(r){console.log("data from GameWorker",r),self.postMessage(r)}):console.error("Cannot subscribe to sendMove port - app not initialized")}),u("ektWR",function(r,n){!function(r){"use strict";function n(r,n,e){return e.a=r,e.f=n,e}function e(r){return n(2,r,function(n){return function(e){return r(n,e)}})}function t(r){return n(3,r,function(n){return function(e){return function(t){return r(n,e,t)}}})}function u(r){return n(4,r,function(n){return function(e){return function(t){return function(u){return r(n,e,t,u)}}}})}function o(r,n,e){return 2===r.a?r.f(n,e):r(n)(e)}function f(r,n,e,t){return 3===r.a?r.f(n,e,t):r(n)(e)(t)}function i(r,n,e,t,u){return 4===r.a?r.f(n,e,t,u):r(n)(e)(t)(u)}function a(r,n,e,t,u,o,f,i,a,c){return 9===r.a?r.f(n,e,t,u,o,f,i,a,c):r(n)(e)(t)(u)(o)(f)(i)(a)(c)}var c={$:0};function s(r,n){return{$:1,a:r,b:n}}var l=e(s);function b(r){for(var n=c,e=r.length;e--;)n=s(r[e],n);return n}function v(r){for(var n=[];r.b;r=r.b)n.push(r.a);return n}var d=t(function(r,n,e){for(var t=[];n.b&&e.b;n=n.b,e=e.b)t.push(o(r,n.a,e.a));return b(t)}),M=e(function(r,n){return b(v(n).sort(function(n,e){return m(r(n),r(e))}))}),h=t(function(r,n,e){for(var t=Array(r),u=0;r>u;u++)t[u]=e(n+u);return t}),p=e(function(r,n){for(var e=Array(r),t=0;r>t&&n.b;t++)e[t]=n.a,n=n.b;return e.length=t,y(e,n)});function K(r){throw Error("https://github.com/elm/core/blob/1.0.0/hints/"+r+".md")}function $(r,n){for(var e,t=[],u=g(r,n,0,t);u&&(e=t.pop());u=g(e.a,e.b,0,t));return u}function g(r,n,e,t){if(r===n)return!0;if("object"!=typeof r||null===r||null===n)return"function"==typeof r&&K(5),!1;if(e>100)return t.push(y(r,n)),!0;for(var u in 0>r.$&&(r=rg(r),n=rg(n)),r)if(!g(r[u],n[u],e+1,t))return!1;return!0}function m(r,n,e){if("object"!=typeof r)return r===n?0:n>r?-1:1;if(void 0===r.$)return(e=m(r.a,n.a))||(e=m(r.b,n.b))?e:m(r.c,n.c);for(;r.b&&n.b&&!(e=m(r.a,n.a));r=r.b,n=n.b);return e||(r.b?1:n.b?-1:0)}function y(r,n){return{a:r,b:n}}function w(r,n){if("string"==typeof r)return r+n;if(!r.b)return n;var e=s(r.a,n);r=r.b;for(var t=e;r.b;r=r.b)t=t.b=s(r.a,n);return e}var T=e(function(r,n){return r+n}),E=Math.ceil,k=Math.floor,j=Math.log,W=e(function(r,n){return n.split(r)}),x=e(function(r,n){return n.join(r)}),O=t(function(r,n,e){return e.slice(r,n)}),A=e(function(r,n){for(var e=n.length;e--;){var t=n[e],u=n.charCodeAt(e);if(56320>u||u>57343||(t=n[--e]+t),!r(t))return!1}return!0});function G(r){return{$:2,b:r}}var I=G(function(r){return"number"!=typeof r?_("an INT",r):r>-0x7fffffff&&0x7fffffff>r&&(0|r)===r?rE(r):!isFinite(r)||r%1?_("an INT",r):rE(r)}),L=G(function(r){return"boolean"==typeof r?rE(r):_("a BOOL",r)}),R=(G(function(r){return"number"==typeof r?rE(r):_("a FLOAT",r)}),G(function(r){return rE(r)})),C=G(function(r){return"string"==typeof r?rE(r):r instanceof String?rE(r+""):_("a STRING",r)}),N=e(function(r,n){return{$:6,d:r,b:n}});function D(r,n){return{$:9,f:r,g:n}}var q=e(function(r,n){return{$:10,b:n,h:r}}),J=e(function(r,n){return D(r,[n])}),S=t(function(r,n,e){return D(r,[n,e])}),Y=e(function(r,n){return z(r,n)});function z(r,n){switch(r.$){case 2:return r.b(n);case 5:return null===n?rE(r.c):_("null",n);case 3:return P(n)?F(r.b,n,b):_("a LIST",n);case 4:return P(n)?F(r.b,n,X):_("an ARRAY",n);case 6:var e=r.d;if("object"!=typeof n||null===n||!(e in n))return _("an OBJECT with a field named `"+e+"`",n);var t=z(r.b,n[e]);return r6(t)?t:rm(o(rw,e,t.a));case 7:var u=r.e;return P(n)?n.length>u?r6(t=z(r.b,n[u]))?t:rm(o(rT,u,t.a)):_("a LONGER array. Need index "+u+" but only see "+n.length+" entries",n):_("an ARRAY",n);case 8:if("object"!=typeof n||null===n||P(n))return _("an OBJECT",n);var f=c;for(var i in n)if(n.hasOwnProperty(i)){if(!r6(t=z(r.b,n[i])))return rm(o(rw,i,t.a));f=s(y(i,t.a),f)}return rE(rY(f));case 9:for(var a=r.f,l=r.g,v=0;l.length>v;v++){if(!r6(t=z(l[v],n)))return t;a=a(t.a)}return rE(a);case 10:return r6(t=z(r.b,n))?z(r.h(t.a),n):t;case 11:for(var d=c,M=r.g;M.b;M=M.b){if(r6(t=z(M.a,n)))return t;d=s(t.a,d)}return rm(rk(rY(d)));case 1:return rm(o(ry,r.a,n));case 0:return rE(r.a)}}function F(r,n,e){for(var t=n.length,u=Array(t),f=0;t>f;f++){var i=z(r,n[f]);if(!r6(i))return rm(o(rT,f,i.a));u[f]=i.a}return rE(e(u))}function P(r){return Array.isArray(r)||"undefined"!=typeof FileList&&r instanceof FileList}function X(r){return o(r4,r.length,function(n){return r[n]})}function _(r,n){return rm(o(ry,"Expecting "+r,n))}var B=e(function(r,n){return JSON.stringify(n,null,r)+""}),U=t(function(r,n,e){return e[r]=n,e}),Q=e(function(r,n){return{$:3,b:r,d:n}}),V=0,H=!1,Z=[];function rr(r){if(Z.push(r),!H){for(H=!0;r=Z.shift();)!function(r){for(;r.f;){var n=r.f.$;if(0===n||1===n){for(;r.g&&r.g.$!==n;)r.g=r.g.i;if(!r.g)return;r.f=r.g.b(r.f.a),r.g=r.g.i}else{if(2===n)return void(r.f.c=r.f.b(function(n){r.f=n,rr(r)}));if(5===n){if(0===r.h.length)return;r.f=r.f.b(r.h.shift())}else r.g={$:+(3!==n),b:r.f.b,i:r.g},r.f=r.f.d}}}(r);H=!1}}var rn=u(function(r,n,e,t){var u,a,c,s,l,b,v,d,M;return u=r.hD,a=r.jK,c=r.jj,r6(s=o(Y,n,t?t.flags:void 0))||K(2),l={},v=(b=u(s.a)).a,d=function(){},M=function(r,n){var e;for(var t in re){var u=re[t];u.a&&((e=e||{})[t]=u.a(t,n)),r[t]=function(r,n){var e,t={g:n,h:void 0},u=r.c,a=r.d,c=r.e,s=r.f;return rr(e={$:0,e:V++,f:o(Q,function r(n){return o(Q,r,{$:5,b:function(r){var e=r.a;return 0===r.$?f(a,t,e,n):c&&s?i(u,t,e.i,e.j,n):f(u,t,c?e.i:e.j,n)}})},r.b),g:null,h:[]}),t.h=e}(u,n)}return e}(l,function(r,n){var e=o(a,r,v);d(v=e.a,n),rf(l,e.b,c(v))}),rf(l,b.b,c(v)),M?{ports:M}:{}}),re={};function rt(r){return function(n){return{$:1,k:r,l:n}}}var ru=[],ro=!1;function rf(r,n,e){if(ru.push({p:r,q:n,r:e}),!ro){ro=!0;for(var t;t=ru.shift();)!function(r,n,e){var t,u,o={};for(var f in ri(!0,n,o,null),ri(!1,e,o,null),r)t=r[f],u={$:"fx",a:o[f]||{i:c,j:c}},t.h.push(u),rr(t)}(t.p,t.q,t.r);ro=!1}}function ri(r,n,e,t){switch(n.$){case 1:var u,f,i=n.k,a=(u=n.l,o(r?re[i].e:re[i].f,function(r){for(var n=t;n;n=n.t)r=n.s(r);return r},u));return void(e[i]=(f=(f=e[i])||{i:c,j:c},r?f.i=s(a,f.i):f.j=s(a,f.j),f));case 2:for(var l=n.m;l.b;l=l.b)ri(r,l.a,e,t);return;case 3:return void ri(r,n.o,e,{s:n.n,t:t})}}var ra=e(function(r,n){return n}),rc,rs,rl,rb,rv,rd,rM,rh,rp,rK=e(function(r,n){return function(e){return r(n(e))}}),r$=t(function(r,n,e){for(;;){if(-2===e.$)return n;var t=e.d,u=r,o=f(r,e.b,e.c,f(r$,r,n,e.e));r=u,n=o,e=t}}),rg=function(r){return f(r$,t(function(r,n,e){return o(l,y(r,n),e)}),c,r)},rm=function(r){return{$:1,a:r}},ry=e(function(r,n){return{$:3,a:r,b:n}}),rw=e(function(r,n){return{$:0,a:r,b:n}}),rT=e(function(r,n){return{$:1,a:r,b:n}}),rE=function(r){return{$:0,a:r}},rk=function(r){return{$:2,a:r}},rj=function(r){return{$:0,a:r}},rW={$:1},rx=function(r){return r+""},rO=e(function(r,n){return o(x,r,v(n))}),rA=e(function(r,n){return b(o(W,r,n))}),rG=function(r){return o(rO,"\n    ",o(rA,"\n",r))},rI=t(function(r,n,e){for(;;){if(!e.b)return n;var t=e.b,u=r,f=o(r,e.a,n);r=u,n=f,e=t}}),rL=function(r){return f(rI,e(function(r,n){return n+1}),0,r)},rR=t(function(r,n,e){for(;;){if(m(r,n)>=1)return e;var t=r,u=n-1,f=o(l,n,e);r=t,n=u,e=f}}),rC=e(function(r,n){return f(rR,r,n,c)}),rN=e(function(r,n){return f(d,r,o(rC,0,rL(n)-1),n)}),rD=function(r){var n=r.charCodeAt(0);return 55296>n||n>56319?n:1024*(n-55296)+r.charCodeAt(1)-56320+65536},rq=function(r){var n=rD(r);return n>=97&&122>=n},rJ=function(r){var n=rD(r);return 90>=n&&n>=65},rS=function(r){var n;return rq(r)||rJ(r)||57>=(n=rD(r))&&n>=48},rY=function(r){return f(rI,l,c,r)},rz=e(function(r,n){return"\n\n("+rx(r+1)+") "+rG(rF(n))}),rF=function(r){return o(rP,r,c)},rP=e(function(r,n){for(;;)switch(r.$){case 0:var e=r.a,t=r.b,u=function(){var r,n=isNaN(r=e.charCodeAt(0))?rW:rj(55296>r||r>56319?y(e[0],e.slice(1)):y(e[0]+e[1],e.slice(2)));if(1===n.$)return!1;var t,u=n.a,f=u.b;return(rq(t=u.a)||rJ(t))&&o(A,rS,f)}();r=t,n=o(l,u?"."+e:"['"+e+"']",n);continue;case 1:t=r.b;var f="["+rx(r.a)+"]";r=t,n=o(l,f,n);continue;case 2:var i=r.a;if(i.b){if(i.b.b){var a=(n.b?"The Json.Decode.oneOf at json"+o(rO,"",rY(n)):"Json.Decode.oneOf")+" failed in the following "+rx(rL(i))+" ways:";return o(rO,"\n\n",o(l,a,o(rN,rz,i)))}r=t=i.a;continue}return"Ran into a Json.Decode.oneOf with no possibilities"+(n.b?" at json"+o(rO,"",rY(n)):"!");default:var c=r.a,s=r.b;return(a=n.b?"Problem with the value at json"+o(rO,"",rY(n))+":\n\n    ":"Problem with the given value:\n\n")+rG(o(B,4,s))+"\n\n"+c}}),rX=u(function(r,n,e,t){return{$:0,a:r,b:n,c:e,d:t}}),r_=[],rB=e(function(r,n){return j(n)/j(r)}),rU=E(o(rB,2,32)),rQ=i(rX,0,rU,r_,r_),rV=e(function(r,n){return n(r)}),rH=function(r){return r.length},rZ=e(function(r,n){return m(r,n)>0?r:n}),r0=e(function(r,n){for(;;){var e=o(p,32,r),t=e.b,u=o(l,{$:0,a:e.a},n);if(!t.b)return rY(u);r=t,n=u}}),r1=function(r){return r.a},r2=e(function(r,n){for(;;){var e=E(n/32);if(1===e)return o(p,32,r).a;r=o(r0,r,c),n=e}}),r3=e(function(r,n){if(n.s){var e=32*n.s,t=k(o(rB,32,e-1)),u=o(r2,r?rY(n.x):n.x,n.s);return i(rX,rH(n.v)+e,o(rZ,5,t*rU),u,n.v)}return i(rX,rH(n.v),rU,r_,n.v)}),r5=n(5,rc=function(r,n,e,t,u){for(;;){if(0>n)return o(r3,!1,{x:t,s:e/32|0,v:u});var i={$:1,a:f(h,32,n,r)};n-=32,t=o(l,i,t)}},function(r){return function(n){return function(e){return function(t){return function(u){return rc(r,n,e,t,u)}}}}}),r4=e(function(r,n){if(r>0){var e,t,u=r%32;return e=r-u-32,t=f(h,u,r-u,n),5===r5.a?r5.f(n,e,r,c,t):r5(n)(e)(r)(c)(t)}return rQ}),r6=function(r){return!r.$},r9={$:2,m:c},r7=(re[rv="getModel"]&&K(3),re[rv]={f:rK,u:R,a:function(r,n){var e=c,u=re[r].u,f={$:0,a:null};return re[r].b=f,re[r].c=t(function(r,n){return e=n,f}),{send:function(r){var t=o(Y,u,r);r6(t)||K(4);for(var f=t.a,i=e;i.b;i=i.b)n(i.a(f))}}}},rt(rv)),r8=function(r){return{$:2,a:r}},nr=function(r){return{Y:2,al:r,ad:!0}},nn=u(function(r,n,e,t){if(t.b){var u=t.a,a=t.b;if(a.b){var c=a.a,s=a.b;if(s.b){var l=s.a,b=s.b;if(b.b){var v=b.b;return o(r,u,o(r,c,o(r,l,o(r,b.a,e>500?f(rI,r,n,rY(v)):i(nn,r,n,e+1,v)))))}return o(r,u,o(r,c,o(r,l,n)))}return o(r,u,o(r,c,n))}return o(r,u,n)}return n}),ne=t(function(r,n,e){return i(nn,r,n,0,e)}),nt=e(function(r,n){return f(ne,e(function(n,e){return r(n)?o(l,n,e):e}),c,n)}),nu=e(function(r,n){return n.$?rW:r(n.a)}),no=t(function(r,n,e){return n(r(e))}),nf=e(function(r,n){for(;;){if(r>0&&n.b){r-=1,n=n.b;continue}return n}}),ni=function(r){return r.b?rj(r.a):rW},na=e(function(r,n){return n.$?r:n.a}),nc=e(function(r,n){return 0>r.fM||r.fM>2||0>r.eK||r.eK>2?rW:o(na,rW,o(nu,o(no,nf(r.eK),ni),ni(o(nf,r.fM,n))))}),ns=e(function(r,n){for(;;){if(!n.b)return!1;var e=n.b;if(r(n.a))return!0;n=e}}),nl=e(function(r,n){return o(ns,function(n){return $(n,r)},n)}),nb=function(r){return!r},nv=e(function(r,n){return 0>m(r,n)?r:n}),nd=e(function(r,n){var e,t=rL(r),u=+(e=b([b([o(nc,{eK:0,fM:0},n),o(nc,{eK:1,fM:0},n),o(nc,{eK:2,fM:0},n)]),b([o(nc,{eK:0,fM:1},n),o(nc,{eK:1,fM:1},n),o(nc,{eK:2,fM:1},n)]),b([o(nc,{eK:0,fM:2},n),o(nc,{eK:1,fM:2},n),o(nc,{eK:2,fM:2},n)]),b([o(nc,{eK:0,fM:0},n),o(nc,{eK:0,fM:1},n),o(nc,{eK:0,fM:2},n)]),b([o(nc,{eK:1,fM:0},n),o(nc,{eK:1,fM:1},n),o(nc,{eK:1,fM:2},n)]),b([o(nc,{eK:2,fM:0},n),o(nc,{eK:2,fM:1},n),o(nc,{eK:2,fM:2},n)]),b([o(nc,{eK:0,fM:0},n),o(nc,{eK:1,fM:1},n),o(nc,{eK:2,fM:2},n)]),b([o(nc,{eK:2,fM:0},n),o(nc,{eK:1,fM:1},n),o(nc,{eK:0,fM:2},n)])]),rL(o(nt,function(r){var n=o(nl,rj(0),r),e=o(nl,rj(1),r);return(n||e)&&o(nl,rW,r)&&!(n&&e)},e))>=3);return o(nv,9,function(){switch(t){case 1:return 1;case 2:return 3;case 3:default:return 5;case 4:case 6:return 6;case 5:return 7}}()+(7>t?4>t?3:2:1)+u)}),nM=function(r){return o(nt,function(n){return $(o(nc,n,r),rW)},b([{eK:0,fM:0},{eK:1,fM:0},{eK:2,fM:0},{eK:0,fM:1},{eK:1,fM:1},{eK:2,fM:1},{eK:0,fM:2},{eK:1,fM:2},{eK:2,fM:2}]))},nh={$:2},np={$:1},nK=t(function(r,n,e){var t=r(n);return t.$?e:o(l,t.a,e)}),n$=e(function(r,n){return f(ne,nK(r),c,n)}),ng=function(r){var n=b([b([o(nc,{eK:0,fM:0},r),o(nc,{eK:1,fM:1},r),o(nc,{eK:2,fM:2},r)]),b([o(nc,{eK:2,fM:0},r),o(nc,{eK:1,fM:1},r),o(nc,{eK:0,fM:2},r)])]),e=w(r,w(b([b([o(nc,{eK:0,fM:0},r),o(nc,{eK:0,fM:1},r),o(nc,{eK:0,fM:2},r)]),b([o(nc,{eK:1,fM:0},r),o(nc,{eK:1,fM:1},r),o(nc,{eK:1,fM:2},r)]),b([o(nc,{eK:2,fM:0},r),o(nc,{eK:2,fM:1},r),o(nc,{eK:2,fM:2},r)])]),n));return ni(o(n$,function(r){if(!r.b||r.a.$||!r.b.b||r.b.a.$||!r.b.b.b||r.b.b.a.$||r.b.b.b.b)return rW;var n=r.a.a,e=r.b,t=e.a.a,u=e.b.a.a;return $(n,t)&&$(t,u)?rj(n):rW},e))},nm=e(function(r,n){return n.b?f(ne,l,n,r):r}),ny=function(r){return f(ne,nm,c,r)},nw=function(r){var n=ng(r);return n.$?!o(nl,rW,ny(r))&&$(ng(r),rW)?np:nh:{$:0,a:n.a}},nT=function(r){return 2!==nw(r).$},nE=t(function(r,n,t){return o(rN,e(function(t,u){return $(t,n.fM)?o(rN,e(function(e,t){return $(e,n.eK)?rj(r):t}),u):u}),t)}),nk=e(function(r,n){return f(ne,e(function(n,e){return o(l,r(n),e)}),c,n)}),nj=function(r){return{$:2,a:r}},nW={$:1},nx={$:0},nO=e(function(r,n){switch(r.$){case 0:return!$(n,nx);case 1:return!1;default:var e=r.a;switch(n.$){case 1:return!0;case 2:return m(e,n.a)>0;default:return!1}}}),nA=e(function(r,n){return o(nO,r,n)?r:n}),nG=function(r){return-r},nI=function(r){switch(r.$){case 2:return nj(-r.a);case 0:return nW;default:return nx}},nL=n(9,rs=function(r,n,e,u,i,c,s,l,b){if(!c||u(b))return nj(r(b));var v=t(function(t,f,s){for(;;){if(!f.b)return s;var v=f.b,d=nI(a(nL,function(n){return-r(n)},n,e,u,i,c-1,-l,-t,o(e,f.a,b))),M=o(nA,s,d),h=2===d.$?o(rZ,t,d.a):t;if(m(h,l)>-1)return M;t=h,f=v,s=M}}),d=o(i,b,n(b));return d.b?f(v,s,d,nW):nj(r(b))},function(r){return function(n){return function(e){return function(t){return function(u){return function(o){return function(f){return function(i){return function(a){return rs(r,n,e,t,u,o,f,i,a)}}}}}}}}}),nR=e(function(r,n){return o(nk,function(n){return o(nc,n,r)},n)}),nC=function(r){return!r.b},nN=function(r){return+!r},nD=e(function(r,n){var e=rL(o(nt,function(n){return $(n,rj(r))},n)),t=rL(o(nt,function(n){return $(n,rj(nN(r)))},n)),u=rL(o(nt,function(r){return $(r,rW)},n));return e>0&&!t&&u>0}),nq=t(function(r,n,e){var t,u,i,a,s=f(nE,r,n,e),l=rL(o(nt,nD(r),o(nk,nR(s),(t=b([{eK:0,fM:n.fM},{eK:1,fM:n.fM},{eK:2,fM:n.fM}]),u=$(n.fM,n.eK)?b([{eK:0,fM:0},{eK:1,fM:1},{eK:2,fM:2}]):c,i=b([{eK:n.eK,fM:0},{eK:n.eK,fM:1},{eK:n.eK,fM:2}]),a=n.fM+n.eK===2?b([{eK:2,fM:0},{eK:1,fM:1},{eK:0,fM:2}]):c,w(b([t,i]),w(nC(u)?c:b([u]),nC(a)?c:b([a])))))));return 2>l?5*(1===l):20}),nJ=e(function(r,n){var e=rL(o(nt,function(n){return $(n,rj(r))},n));if(3===e)return 100;var t=rL(o(nt,function(n){return $(n,rj(nN(r)))},n));if(3===t)return -100;var u=rL(o(nt,function(r){return $(r,rW)},n));return 2===e&&1===u?10:2===t&&1===u?-10:1===e&&2===u?1:1===t&&2===u?-1:0}),nS=e(function(r,n){var e,t,u,i=nw(n);switch(i.$){case 0:return $(i.a,r)?1e3:-1e3;case 1:return 0;default:var a={bo:o(nc,{eK:0,fM:0},n),c7:o(nc,{eK:1,fM:0},n),bp:o(nc,{eK:2,fM:0},n),c8:o(nc,{eK:0,fM:1},n),aT:o(nc,{eK:1,fM:1},n),c9:o(nc,{eK:2,fM:1},n),bq:o(nc,{eK:0,fM:2},n),da:o(nc,{eK:1,fM:2},n),br:o(nc,{eK:2,fM:2},n)},c=(u=a.aT).$?0:$(u.a,r)?3:-3,s=(t=rL(o(nt,function(n){return $(n,rj(nN(r)))},e=b([a.bo,a.bp,a.bq,a.br]))),2*(rL(o(nt,function(n){return $(n,rj(r))},e))-t)),l=b([b([a.bo,a.c7,a.bp]),b([a.c8,a.aT,a.c9]),b([a.bq,a.da,a.br]),b([a.bo,a.c8,a.bq]),b([a.c7,a.aT,a.da]),b([a.bp,a.c9,a.br]),b([a.bo,a.aT,a.br]),b([a.bp,a.aT,a.bq])]);return f(rI,T,0,o(nk,nJ(r),l))+c+s}}),nY=function(r){return r.b},nz=t(function(r,n,e){return o(nk,r1,o(M,o(no,nY,nG),o(nk,function(e){return y(e,function(e){var t,u=f(nE,r,e,n),i=(t=nw(u)).$?0:1e4*!!$(t.a,r);if(i>0)return i;var a=5e3*!nw(f(nE,nN(r),e,n)).$;return a>0?a:o(nS,r,u)+(1===e.fM&&1===e.eK?15:e.fM&&2!==e.fM||e.eK&&2!==e.eK?2:8)+f(nq,r,e,n)}(e))},e)))}),nF=u(function(r,n,t,u){var i=o(nk,function(t){var i=f(nE,r,t,n),c=a(nL,function(n){return o(nS,nN(r),n)},nM,e(function(n,e){return f(nE,nN(r),n,e)}),nT,nz(nN(r)),u,-1e4,1e4,i);switch(c.$){case 2:return y(t,-c.a);case 0:return y(t,1e4);default:return y(t,-1e4)}},t);return f(rI,e(function(r,n){var e=r.a,t=r.b,u=n.a,o=n.b;return m(t,o)>0?y(rj(e),t):y(u,o)}),y(rW,-2e4),i).a}),nP=u(function(r,n,e,u){return f(t(function(e,t,f){for(;;){if(m(e,u)>0)return t;var a=i(nF,r,n,f,e),c=function(){if(a.$)return f;var r=a.a;return o(l,r,o(nt,function(n){return!$(n,r)},f))}();e+=1,t=a.$?t:rj(a.a),f=c}}),1,rW,e)}),nX=t(function(r,n,e){var t=ni(o(nt,function(e){var t=nw(f(nE,r,e,n));return!t.$&&$(t.a,r)},e));return t.$?ni(o(nt,function(e){return!nw(f(nE,nN(r),e,n)).$},e)):rj(t.a)}),n_=e(function(r,n){var e=nM(n),t=f(nX,r,n,e);if(t.$){var u=o(nd,e,n),a=f(nz,r,n,e);return rL(e)>4?i(nP,r,n,a,u):i(nF,r,n,a,u)}return rj(t.a)}),nB=t(function(r,n,e){return r(n(e))}),nU=e(function(r,n){return!o(ns,o(nB,nb,r),n)}),nQ={$:3},nV=function(r){return{$:4,a:r}},nH=t(function(r,n,e){return{Y:n,al:r,ad:e}}),nZ=n(6,rl=function(r,n,e,t,u,o){return{cX:r,L:u,e_:n,cp:e,dK:o,cs:t}},function(r){return function(n){return function(e){return function(t){return function(u){return function(o){return rl(r,n,e,t,u,o)}}}}}}),n0=function(r){return{$:1,a:r}},n1=function(r){return{$:0,a:r}},n2=function(r){return{$:2,a:r}},n3=o(J,function(r){switch(r){case"Light":default:return 0;case"Dark":return 1}},C),n5=o(J,function(r){switch(r){case"InvalidMove":return 0;case"GameLogicError":return 1;case"WorkerCommunicationError":return 2;case"JsonError":return 3;case"TimeoutError":return 4;default:return 5}},C),n4=function(r){return{$:1,a:r}},n6=function(r){return{$:3,b:r}},n9=function(r){return r},n7=function(r){return{$:5,c:r}},n8=function(r){return{$:11,g:r}},er=function(r){return n8(b([n7(rW),o(J,rj,r)]))},en=S(rV),ee=e(function(r,n){return f(ne,N,n,r)}),et=function(r){return{$:0,a:r}},eu=t(function(r,n,e){var t=function(r){return n8(b([r,n7(e)]))};return o(q,function(u){var f=o(Y,o(ee,r,R),u);if(f.$)return et(e);var i=f.a,a=o(Y,t(n),i);return a.$?o(ee,r,t(n)):et(a.a)},R)}),eo=u(function(r,n,e,t){return o(en,f(eu,b([r]),n,e),t)}),ef=e(function(r,n){return y(r,n)}),ei=t(function(r,n,e){return o(en,o(N,r,n),e)}),ea=(rd=o(q,function(r){switch(r){case"X":return et(0);case"O":return et(1);default:return n4("Invalid player: "+r)}},C),rM=o(q,function(r){switch(r){case"Waiting":return o(J,n1,o(N,"player",rd));case"Thinking":return o(J,n0,o(N,"player",rd));case"Winner":return o(J,n2,o(N,"player",rd));case"Draw":return et(nQ);case"Error":return o(J,nV,i(eo,"recoverable",L,!0,i(eo,"errorType",n5,5,f(ei,"message",C,et(nH)))));default:return n4("Invalid game state type: "+r)}},o(N,"type",C)),rh=n6(n6(er(rd))),i(eo,"maybeWindow",er(f(S,ef,o(N,"width",I),o(N,"height",I))),rW,i(eo,"colorScheme",n3,0,i(eo,"now",er(o(J,n9,I)),rW,i(eo,"lastMove",er(o(J,n9,I)),rW,f(ei,"gameState",rM,f(ei,"board",rh,et(nZ)))))))),ec=e(function(r,n){return 1>r?"":f(O,0,r,n)}),es=function(r){var n=o(Y,ea,r);if(n.$){var t=n.a,u=100===(i=o(ec,100,o(B,0,r))).length?i+"...":i;return r8({Y:3,al:"Worker failed to decode model: "+rF(t)+" (JSON: "+u+")",ad:!0})}var i,a,c=3!==rL((a=n.a).cX)?rm(nr("Invalid model: board must have exactly 3 rows")):o(nU,function(r){return 3===rL(r)},a.cX)?1===a.e_.$?rE(a):rm(nr("Worker should only receive Thinking state")):rm(nr("Invalid model: all rows must have exactly 3 columns"));return c.$?r8(c.a):function(r){var n=r.e_;if(1===n.$){var t=n.a,u=function(r){var n=3===rL(r)&&o(nU,function(r){return 3===rL(r)},r),t=f(rI,e(function(r,n){var e=n.a,t=n.b;return r.$?y(e,t):r.a?y(e,t+1):y(e+1,t)}),y(0,0),ny(r)),u=t.a,i=t.b;if(n){if($(u,i)||$(u,i+1)){var a=u+i;return a>9?rm(nr("Too many pieces on board - total: "+rx(a))):rE(r)}return rm(nr("Invalid piece count - X: "+rx(u)+", O: "+rx(i)))}return rm(nr("Board has invalid dimensions - must be 3x3"))}(r.cX);if(u.$)return r8(u.a);var i=o(n_,t,u.a);return i.$?r8({Y:1,al:"AI could not find a valid move - board may be full or invalid",ad:!0}):{$:0,a:i.a}}return r8(nr("Worker received unexpected game state"))}(c.a)},el=function(r){switch(r){case 0:return"InvalidMove";case 1:return"GameLogicError";case 2:return"WorkerCommunicationError";case 3:return"JsonError";case 4:return"TimeoutError";default:return"UnknownError"}},eb=function(r){return f(rI,e(function(r,n){return f(U,r.a,r.b,n)}),{},r)},ev=(re[rb="sendMove"]&&K(3),re[rb]={e:ra,u:n9,a:function(r){var n=[],e=re[r].u,u={$:2,b:function(r){var n=setTimeout(function(){r({$:0,a:0})},0);return function(){clearTimeout(n)}},c:null};return re[r].b=u,re[r].c=t(function(r,t){for(;t.b;t=t.b)for(var o=n,f=e(t.a),i=0;o.length>i;i++)o[i](f);return u}),{subscribe:function(r){n.push(r)},unsubscribe:function(r){var e=(n=n.slice()).indexOf(r);0>e||n.splice(e,1)}}}},rt(rb));rp={TicTacToe:{GameWorker:{init:rn({hD:function(){return y(0,r9)},jj:function(){return r7(es)},jK:e(function(r,n){return y(n,ev(function(r){switch(r.$){case 0:var n=r.a;return eb(b([y("type","MoveMade"),y("position",eb(b([y("row",n.fM),y("col",n.eK)])))]));case 1:return eb(b([y("type","ResetGame")]));case 2:var e=r.a;return eb(b([y("type","GameError"),y("errorInfo",eb(b([y("message",e.al),y("errorType",el(e.Y)),y("recoverable",e.ad)])))]));case 3:var t=r.a;return eb(b([y("type","ColorScheme"),y("colorScheme",t?"Dark":"Light")]));case 4:var u=r.a;return eb(b([y("type","GetViewPort"),y("viewport",eb(b([y("scene",eb(b([y("width",u.fP.cL),y("height",u.fP.ck)]))),y("viewport",eb(b([y("x",u.cK.gc),y("y",u.cK.gd),y("width",u.cK.cL),y("height",u.cK.ck)])))])))]));case 5:var o=r.a,f=r.b;return eb(b([y("type","GetResize"),y("width",o),y("height",f)]));case 6:var i=r.a;return eb(b([y("type","Tick"),y("time",i)]));default:var a=r.a;return eb(b([y("type","NavigateToRoute"),y("route","/"+function(r){switch(r){case 0:return"landing";case 1:return"tic-tac-toe";case 2:return"robot-game";default:return"style-guide"}}(a))]))}}(r)))})})(et(0))(0)}}},r.Elm?function r(n,e){for(var t in e)t in n?"init"==t?K(6):r(n[t],e[t]):n[t]=e[t]}(r.Elm,rp):r.Elm=rp}(r.exports)}),t("1t6aQ")}();