!function(){var n={};!function(n){function r(n,r,t){return t.a=n,t.f=r,t}function t(n){return r(2,n,function(r){return function(t){return n(r,t)}})}function e(n){return r(3,n,function(r){return function(t){return function(e){return n(r,t,e)}}})}function u(n){return r(4,n,function(r){return function(t){return function(e){return function(u){return n(r,t,e,u)}}}})}function i(n,r,t){return 2===n.a?n.f(r,t):n(r)(t)}function o(n,r,t,e){return 3===n.a?n.f(r,t,e):n(r)(t)(e)}function a(n,r,t,e,u){return 4===n.a?n.f(r,t,e,u):n(r)(t)(e)(u)}function f(n,r,t,e,u,i,o,a,f,c){return 9===n.a?n.f(r,t,e,u,i,o,a,f,c):n(r)(t)(e)(u)(i)(o)(a)(f)(c)}var c={$:0};function L(n,r){return{$:1,a:n,b:r}}var s=t(L);function d(n){for(var r=c,t=n.length;t--;)r=L(n[t],r);return r}function v(n){for(var r=[];n.b;n=n.b)r.push(n.a);return r}var b=e(function(n,r,t){for(var e=[];r.b&&t.b;r=r.b,t=t.b)e.push(i(n,r.a,t.a));return d(e)}),l=t(function(n,r){return d(v(r).sort(function(r,t){return y(n(r),n(t))}))}),h=e(function(n,r,t){for(var e=Array(n),u=0;n>u;u++)e[u]=t(r+u);return e}),$=t(function(n,r){for(var t=Array(n),e=0;n>e&&r.b;e++)t[e]=r.a,r=r.b;return t.length=e,w(t,r)});function g(n){throw Error("https://github.com/elm/core/blob/1.0.0/hints/"+n+".md")}function p(n,r){for(var t,e=[],u=m(n,r,0,e);u&&(t=e.pop());u=m(t.a,t.b,0,e));return u}function m(n,r,t,e){if(n===r)return!0;if("object"!=typeof n||null===n||null===r)return"function"==typeof n&&g(5),!1;if(t>100)return e.push(w(n,r)),!0;for(var u in 0>n.$&&(n=ny(n),r=ny(r)),n)if(!m(n[u],r[u],t+1,e))return!1;return!0}function y(n,r,t){if("object"!=typeof n)return n===r?0:r>n?-1:1;if(void 0===n.$)return(t=y(n.a,r.a))||(t=y(n.b,r.b))?t:y(n.c,r.c);for(;n.b&&r.b&&!(t=y(n.a,r.a));n=n.b,r=r.b);return t||(n.b?1:r.b?-1:0)}function w(n,r){return{a:n,b:r}}function T(n,r){if("string"==typeof n)return n+r;if(!n.b)return r;var t=L(n.a,r);n=n.b;for(var e=t;n.b;n=n.b)e=e.b=L(n.a,r);return t}var E=t(function(n,r){return n+r}),j=Math.ceil,A=Math.floor,O=Math.log,k=t(function(n,r){return r.split(n)}),I=t(function(n,r){return r.join(n)}),M=e(function(n,r,t){return t.slice(n,r)}),x=t(function(n,r){for(var t=r.length;t--;){var e=r[t],u=r.charCodeAt(t);if(56320>u||u>57343||(e=r[--t]+e),!n(e))return!1}return!0});function G(n){return{$:2,b:n}}var N=G(function(n){return"number"!=typeof n?_("an INT",n):n>-0x7fffffff&&0x7fffffff>n&&(0|n)===n?nA(n):!isFinite(n)||n%1?_("an INT",n):nA(n)}),W=G(function(n){return"boolean"==typeof n?nA(n):_("a BOOL",n)}),F=(G(function(n){return"number"==typeof n?nA(n):_("a FLOAT",n)}),G(function(n){return nA(n)})),S=G(function(n){return"string"==typeof n?nA(n):n instanceof String?nA(n+""):_("a STRING",n)}),C=t(function(n,r){return{$:6,d:n,b:r}});function R(n,r){return{$:9,f:n,g:r}}var J=t(function(n,r){return{$:10,b:r,h:n}}),D=t(function(n,r){return R(n,[r])}),q=e(function(n,r,t){return R(n,[r,t])}),Q=t(function(n,r){return B(n,r)});function B(n,r){switch(n.$){case 2:return n.b(r);case 5:return null===r?nA(n.c):_("null",r);case 3:return X(r)?P(n.b,r,d):_("a LIST",r);case 4:return X(r)?P(n.b,r,Y):_("an ARRAY",r);case 6:var t=n.d;if("object"!=typeof r||null===r||!(t in r))return _("an OBJECT with a field named `"+t+"`",r);var e=B(n.b,r[t]);return n9(e)?e:nw(i(nE,t,e.a));case 7:var u=n.e;return X(r)?r.length>u?n9(e=B(n.b,r[u]))?e:nw(i(nj,u,e.a)):_("a LONGER array. Need index "+u+" but only see "+r.length+" entries",r):_("an ARRAY",r);case 8:if("object"!=typeof r||null===r||X(r))return _("an OBJECT",r);var o=c;for(var a in r)if(r.hasOwnProperty(a)){if(!n9(e=B(n.b,r[a])))return nw(i(nE,a,e.a));o=L(w(a,e.a),o)}return nA(nB(o));case 9:for(var f=n.f,s=n.g,v=0;s.length>v;v++){if(!n9(e=B(s[v],r)))return e;f=f(e.a)}return nA(f);case 10:return n9(e=B(n.b,r))?B(n.h(e.a),r):e;case 11:for(var b=c,l=n.g;l.b;l=l.b){if(n9(e=B(l.a,r)))return e;b=L(e.a,b)}return nw(nO(nB(b)));case 1:return nw(i(nT,n.a,r));case 0:return nA(n.a)}}function P(n,r,t){for(var e=r.length,u=Array(e),o=0;e>o;o++){var a=B(n,r[o]);if(!n9(a))return nw(i(nj,o,a.a));u[o]=a.a}return nA(t(u))}function X(n){return Array.isArray(n)||"undefined"!=typeof FileList&&n instanceof FileList}function Y(n){return i(n6,n.length,function(r){return n[r]})}function _(n,r){return nw(i(nT,"Expecting "+n,r))}var U=t(function(n,r){return JSON.stringify(r,null,n)+""});function z(n){return n}var V=e(function(n,r,t){return t[n]=r,t}),H=t(function(n,r){return{$:3,b:n,d:r}}),K=0,Z=!1,nn=[];function nr(n){if(nn.push(n),!Z){for(Z=!0;n=nn.shift();)!function(n){for(;n.f;){var r=n.f.$;if(0===r||1===r){for(;n.g&&n.g.$!==r;)n.g=n.g.i;if(!n.g)return;n.f=n.g.b(n.f.a),n.g=n.g.i}else{if(2===r)return void(n.f.c=n.f.b(function(r){n.f=r,nr(n)}));if(5===r){if(0===n.h.length)return;n.f=n.f.b(n.h.shift())}else n.g={$:+(3!==r),b:n.f.b,i:n.g},n.f=n.f.d}}}(n);Z=!1}}var nt=u(function(n,r,t,e){var u,f,c,L,s,d,v,b,l;return u=n.gp,f=n.ij,c=n.hX,n9(L=i(Q,r,e?e.flags:void 0))||g(2),s={},v=(d=u(L.a)).a,b=function(){},l=function(n,r){var t;for(var e in ne){var u=ne[e];u.a&&((t=t||{})[e]=u.a(e,r)),n[e]=function(n,r){var t,e={g:r,h:void 0},u=n.c,f=n.d,c=n.e,L=n.f;return e.h=(nr(t={$:0,e:K++,f:i(H,function n(r){return i(H,n,{$:5,b:function(n){var t=n.a;return 0===n.$?o(f,e,t,r):c&&L?a(u,e,t.i,t.j,r):o(u,e,c?t.i:t.j,r)}})},n.b),g:null,h:[]}),t)}(u,r)}return t}(s,function(n,r){var t=i(f,n,v);b(v=t.a,r),na(s,t.b,c(v))}),na(s,d.b,c(v)),l?{ports:l}:{}}),ne={};function nu(n){return function(r){return{$:1,k:n,l:r}}}var ni=[],no=!1;function na(n,r,t){if(ni.push({p:n,q:r,r:t}),!no){no=!0;for(var e;e=ni.shift();)!function(n,r,t){var e,u={};for(var i in nf(!0,r,u,null),nf(!1,t,u,null),n)(e=n[i]).h.push({$:"fx",a:u[i]||{i:c,j:c}}),nr(e)}(e.p,e.q,e.r);no=!1}}function nf(n,r,t,e){switch(r.$){case 1:var u,o,a=r.k,f=(u=r.l,i(n?ne[a].e:ne[a].f,function(n){for(var r=e;r;r=r.t)n=r.s(n);return n},u));return void(t[a]=(o=(o=t[a])||{i:c,j:c},n?o.i=L(f,o.i):o.j=L(f,o.j),o));case 2:for(var s=r.m;s.b;s=s.b)nf(n,s.a,t,e);return;case 3:return void nf(n,r.o,t,{s:r.n,t:e})}}var nc,nL,ns,nd,nv,nb,nl,nh,n$,ng=t(function(n,r){return r}),np=t(function(n,r){return function(t){return n(r(t))}}),nm=e(function(n,r,t){for(;;){if(-2===t.$)return r;var e=t.d,u=n,i=o(n,t.b,t.c,o(nm,n,r,t.e));n=u,r=i,t=e}}),ny=function(n){return o(nm,e(function(n,r,t){return i(s,w(n,r),t)}),c,n)},nw=function(n){return{$:1,a:n}},nT=t(function(n,r){return{$:3,a:n,b:r}}),nE=t(function(n,r){return{$:0,a:n,b:r}}),nj=t(function(n,r){return{$:1,a:n,b:r}}),nA=function(n){return{$:0,a:n}},nO=function(n){return{$:2,a:n}},nk=function(n){return{$:0,a:n}},nI={$:1},nM=function(n){return n+""},nx=t(function(n,r){return i(I,n,v(r))}),nG=t(function(n,r){return d(i(k,n,r))}),nN=function(n){return i(nx,"\n    ",i(nG,"\n",n))},nW=e(function(n,r,t){for(;;){if(!t.b)return r;var e=t.b,u=n,o=i(n,t.a,r);n=u,r=o,t=e}}),nF=function(n){return o(nW,t(function(n,r){return r+1}),0,n)},nS=e(function(n,r,t){for(;;){if(y(n,r)>=1)return t;var e=n,u=r-1,o=i(s,r,t);n=e,r=u,t=o}}),nC=t(function(n,r){return o(nS,n,r,c)}),nR=t(function(n,r){return o(b,n,i(nC,0,nF(r)-1),r)}),nJ=function(n){var r=n.charCodeAt(0);return 55296>r||r>56319?r:1024*(r-55296)+n.charCodeAt(1)-56320+65536},nD=function(n){var r=nJ(n);return r>=97&&122>=r},nq=function(n){var r=nJ(n);return 90>=r&&r>=65},nQ=function(n){var r;return nD(n)||nq(n)||57>=(r=nJ(n))&&r>=48},nB=function(n){return o(nW,s,c,n)},nP=t(function(n,r){return"\n\n("+nM(n+1)+") "+nN(nX(r))}),nX=function(n){return i(nY,n,c)},nY=t(function(n,r){for(;;)switch(n.$){case 0:var t=n.a,e=n.b,u=function(){var n,r=isNaN(n=t.charCodeAt(0))?nI:nk(55296>n||n>56319?w(t[0],t.slice(1)):w(t[0]+t[1],t.slice(2)));if(1===r.$)return!1;var e,u=r.a,o=u.b;return(nD(e=u.a)||nq(e))&&i(x,nQ,o)}();n=e,r=i(s,u?"."+t:"['"+t+"']",r);continue;case 1:e=n.b;var o="["+nM(n.a)+"]";n=e,r=i(s,o,r);continue;case 2:var a=n.a;if(a.b){if(a.b.b){var f=(r.b?"The Json.Decode.oneOf at json"+i(nx,"",nB(r)):"Json.Decode.oneOf")+" failed in the following "+nM(nF(a))+" ways:";return i(nx,"\n\n",i(s,f,i(nR,nP,a)))}n=e=a.a;continue}return"Ran into a Json.Decode.oneOf with no possibilities"+(r.b?" at json"+i(nx,"",nB(r)):"!");default:var c=n.a,L=n.b;return(f=r.b?"Problem with the value at json"+i(nx,"",nB(r))+":\n\n    ":"Problem with the given value:\n\n")+nN(i(U,4,L))+"\n\n"+c}}),n_=u(function(n,r,t,e){return{$:0,a:n,b:r,c:t,d:e}}),nU=[],nz=t(function(n,r){return O(r)/O(n)}),nV=j(i(nz,2,32)),nH=a(n_,0,nV,nU,nU),nK=t(function(n,r){return r(n)}),nZ=function(n){return n.length},n0=t(function(n,r){return y(n,r)>0?n:r}),n1=t(function(n,r){for(;;){var t=i($,32,n),e=t.b,u=i(s,{$:0,a:t.a},r);if(!e.b)return nB(u);n=e,r=u}}),n2=function(n){return n.a},n3=t(function(n,r){for(;;){var t=j(r/32);if(1===t)return i($,32,n).a;n=i(n1,n,c),r=t}}),n5=t(function(n,r){if(r.r){var t=32*r.r,e=A(i(nz,32,t-1)),u=i(n3,n?nB(r.w):r.w,r.r);return a(n_,nZ(r.u)+t,i(n0,5,e*nV),u,r.u)}return a(n_,nZ(r.u),nV,nU,r.u)}),n4=r(5,nc=function(n,r,t,e,u){for(;;){if(0>r)return i(n5,!1,{w:e,r:t/32|0,u:u});var a={$:1,a:o(h,32,r,n)};r-=32,e=i(s,a,e)}},function(n){return function(r){return function(t){return function(e){return function(u){return nc(n,r,t,e,u)}}}}}),n6=t(function(n,r){if(n>0){var t,e,u=n%32;return t=n-u-32,e=o(h,u,n-u,r),5===n4.a?n4.f(r,t,n,c,e):n4(r)(t)(n)(c)(e)}return nH}),n9=function(n){return!n.$},n7={$:2,m:c},n8=(ne[nv="getModel"]&&g(3),ne[nv]={f:np,u:F,a:function(n,r){var t=c,u=ne[n].u,o={$:0,a:null};return ne[n].b=o,ne[n].c=e(function(n,r){return t=r,o}),{send:function(n){var e=i(Q,u,n);n9(e)||g(4);for(var o=e.a,a=t;a.b;a=a.b)r(a.a(o))}}}},nu(nv)),rn=function(n){return{$:2,a:n}},rr=function(n){return{T:2,ae:n,Q:!0}},rt=t(function(n,r){for(;;){if(!r.b)return!1;var t=r.b;if(n(r.a))return!0;r=t}}),re=u(function(n,r,t,e){if(e.b){var u=e.a,f=e.b;if(f.b){var c=f.a,L=f.b;if(L.b){var s=L.a,d=L.b;if(d.b){var v=d.b;return i(n,u,i(n,c,i(n,s,i(n,d.a,t>500?o(nW,n,r,nB(v)):a(re,n,r,t+1,v)))))}return i(n,u,i(n,c,i(n,s,r)))}return i(n,u,i(n,c,r))}return i(n,u,r)}return r}),ru=e(function(n,r,t){return a(re,n,r,0,t)}),ri=t(function(n,r){return o(ru,t(function(r,t){return n(r)?i(s,r,t):t}),c,r)}),ro=t(function(n,r){return r.$?nI:n(r.a)}),ra=e(function(n,r,t){return r(n(t))}),rf=t(function(n,r){for(;;){if(n>0&&r.b){n-=1,r=r.b;continue}return r}}),rc=function(n){return n.b?nk(n.a):nI},rL=t(function(n,r){return r.$?n:r.a}),rs=t(function(n,r){return 0>n.eL||n.eL>2||0>n.dL||n.dL>2?nI:i(rL,nI,i(ro,i(ra,rf(n.dL),rc),rc(i(rf,n.eL,r))))}),rd=function(n){return!n},rv=t(function(n,r){return 0>y(n,r)?n:r}),rb=t(function(n,r){var t,e=nF(n),u=+(t=d([d([i(rs,{dL:0,eL:0},r),i(rs,{dL:1,eL:0},r),i(rs,{dL:2,eL:0},r)]),d([i(rs,{dL:0,eL:1},r),i(rs,{dL:1,eL:1},r),i(rs,{dL:2,eL:1},r)]),d([i(rs,{dL:0,eL:2},r),i(rs,{dL:1,eL:2},r),i(rs,{dL:2,eL:2},r)]),d([i(rs,{dL:0,eL:0},r),i(rs,{dL:0,eL:1},r),i(rs,{dL:0,eL:2},r)]),d([i(rs,{dL:1,eL:0},r),i(rs,{dL:1,eL:1},r),i(rs,{dL:1,eL:2},r)]),d([i(rs,{dL:2,eL:0},r),i(rs,{dL:2,eL:1},r),i(rs,{dL:2,eL:2},r)]),d([i(rs,{dL:0,eL:0},r),i(rs,{dL:1,eL:1},r),i(rs,{dL:2,eL:2},r)]),d([i(rs,{dL:2,eL:0},r),i(rs,{dL:1,eL:1},r),i(rs,{dL:0,eL:2},r)])]),nF(i(ri,function(n){var r=i(rt,function(n){return p(n,nk(0))},n),t=i(rt,function(n){return p(n,nk(1))},n);return(r||t)&&i(rt,function(n){return p(n,nI)},n)&&!(r&&t)},t))>=3);return i(rv,9,function(){switch(e){case 1:return 1;case 2:return 3;case 3:default:return 5;case 4:case 6:return 6;case 5:return 7}}()+(7>e?4>e?3:2:1)+u)}),rl=function(n){return i(ri,function(r){return p(i(rs,r,n),nI)},d([{dL:0,eL:0},{dL:1,eL:0},{dL:2,eL:0},{dL:0,eL:1},{dL:1,eL:1},{dL:2,eL:1},{dL:0,eL:2},{dL:1,eL:2},{dL:2,eL:2}]))},rh={$:2},r$={$:1},rg=e(function(n,r,t){var e=n(r);return e.$?t:i(s,e.a,t)}),rp=t(function(n,r){return o(ru,rg(n),c,r)}),rm=function(n){var r=d([d([i(rs,{dL:0,eL:0},n),i(rs,{dL:1,eL:1},n),i(rs,{dL:2,eL:2},n)]),d([i(rs,{dL:2,eL:0},n),i(rs,{dL:1,eL:1},n),i(rs,{dL:0,eL:2},n)])]),t=T(n,T(d([d([i(rs,{dL:0,eL:0},n),i(rs,{dL:0,eL:1},n),i(rs,{dL:0,eL:2},n)]),d([i(rs,{dL:1,eL:0},n),i(rs,{dL:1,eL:1},n),i(rs,{dL:1,eL:2},n)]),d([i(rs,{dL:2,eL:0},n),i(rs,{dL:2,eL:1},n),i(rs,{dL:2,eL:2},n)])]),r));return rc(i(rp,function(n){if(!n.b||n.a.$||!n.b.b||n.b.a.$||!n.b.b.b||n.b.b.a.$||n.b.b.b.b)return nI;var r=n.a.a,t=n.b,e=t.a.a,u=t.b.a.a;return p(r,e)&&p(e,u)?nk(r):nI},t))},ry=t(function(n,r){return r.b?o(ru,s,r,n):n}),rw=function(n){return o(ru,ry,c,n)},rT=function(n){var r=rm(n);return r.$?!i(rt,function(n){return p(n,nI)},rw(n))&&p(rm(n),nI)?r$:rh:{$:0,a:r.a}},rE=function(n){return 2!==rT(n).$},rj=e(function(n,r,e){return i(nR,t(function(e,u){return p(e,r.eL)?i(nR,t(function(t,e){return p(t,r.dL)?nk(n):e}),u):u}),e)}),rA=t(function(n,r){return o(ru,t(function(r,t){return i(s,n(r),t)}),c,r)}),rO=function(n){return{$:2,a:n}},rk={$:1},rI={$:0},rM=t(function(n,r){switch(n.$){case 0:return!p(r,rI);case 1:return!1;default:var t=n.a;switch(r.$){case 1:return!0;case 2:return y(t,r.a)>0;default:return!1}}}),rx=t(function(n,r){return i(rM,n,r)?n:r}),rG=function(n){return-n},rN=function(n){switch(n.$){case 2:return rO(-n.a);case 0:return rk;default:return rI}},rW=r(9,nL=function(n,r,t,u,a,c,L,s,d){if(!c||u(d))return rO(n(d));var v=e(function(e,o,L){for(;;){if(!o.b)return L;var v=o.b,b=rN(f(rW,function(r){return-n(r)},r,t,u,a,c-1,-s,-e,i(t,o.a,d))),l=i(rx,L,b),h=2===b.$?i(n0,e,b.a):e;if(y(h,s)>-1)return l;e=h,o=v,L=l}}),b=i(a,d,r(d));return b.b?o(v,L,b,rk):rO(n(d))},function(n){return function(r){return function(t){return function(e){return function(u){return function(i){return function(o){return function(a){return function(f){return nL(n,r,t,e,u,i,o,a,f)}}}}}}}}}),rF=t(function(n,r){return i(rA,function(r){return i(rs,r,n)},r)}),rS=function(n){return!n.b},rC=function(n){return+!n},rR=t(function(n,r){var t=nF(i(ri,function(r){return p(r,nk(n))},r)),e=nF(i(ri,function(r){return p(r,nk(rC(n)))},r)),u=nF(i(ri,function(n){return p(n,nI)},r));return t>0&&!e&&u>0}),rJ=e(function(n,r,t){var e,u,a,f,L=o(rj,n,r,t),s=nF(i(ri,rR(n),i(rA,rF(L),(e=d([{dL:0,eL:r.eL},{dL:1,eL:r.eL},{dL:2,eL:r.eL}]),u=p(r.eL,r.dL)?d([{dL:0,eL:0},{dL:1,eL:1},{dL:2,eL:2}]):c,a=d([{dL:r.dL,eL:0},{dL:r.dL,eL:1},{dL:r.dL,eL:2}]),f=r.eL+r.dL===2?d([{dL:2,eL:0},{dL:1,eL:1},{dL:0,eL:2}]):c,T(d([e,a]),T(rS(u)?c:d([u]),rS(f)?c:d([f])))))));return 2>s?5*(1===s):20}),rD=t(function(n,r){var t=nF(i(ri,function(r){return p(r,nk(n))},r)),e=nF(i(ri,function(r){return p(r,nk(rC(n)))},r)),u=nF(i(ri,function(n){return p(n,nI)},r));return 3===t?100:3===e?-100:2===t&&1===u?10:2===e&&1===u?-10:1===t&&2===u?1:1===e&&2===u?-1:0}),rq=t(function(n,r){var t,e,u,a=rT(r);switch(a.$){case 0:return p(a.a,n)?1e3:-1e3;case 1:return 0;default:var f={a2:i(rs,{dL:0,eL:0},r),cq:i(rs,{dL:1,eL:0},r),a3:i(rs,{dL:2,eL:0},r),cr:i(rs,{dL:0,eL:1},r),aF:i(rs,{dL:1,eL:1},r),cs:i(rs,{dL:2,eL:1},r),a4:i(rs,{dL:0,eL:2},r),ct:i(rs,{dL:1,eL:2},r),a5:i(rs,{dL:2,eL:2},r)},c=(u=f.aF).$?0:p(u.a,n)?3:-3,L=(e=nF(i(ri,function(r){return p(r,nk(rC(n)))},t=d([f.a2,f.a3,f.a4,f.a5]))),2*(nF(i(ri,function(r){return p(r,nk(n))},t))-e)),s=d([d([f.a2,f.cq,f.a3]),d([f.cr,f.aF,f.cs]),d([f.a4,f.ct,f.a5]),d([f.a2,f.cr,f.a4]),d([f.cq,f.aF,f.ct]),d([f.a3,f.cs,f.a5]),d([f.a2,f.aF,f.a5]),d([f.a3,f.aF,f.a4])]);return o(nW,E,0,i(rA,rD(n),s))+c+L}}),rQ=function(n){return n.b},rB=e(function(n,r,t){return i(rA,n2,i(l,i(ra,rQ,rG),i(rA,function(t){return w(t,function(t){var e,u=o(rj,n,t,r),a=(e=rT(u)).$?0:1e4*!!p(e.a,n);if(a>0)return a;var f=5e3*!rT(o(rj,rC(n),t,r)).$;return f>0?f:i(rq,n,u)+(1===t.eL&&1===t.dL?15:t.eL&&2!==t.eL||t.dL&&2!==t.dL?2:8)+o(rJ,n,t,r)}(t))},t)))}),rP=u(function(n,r,e,u){var a=i(rA,function(e){var a=o(rj,n,e,r),c=f(rW,function(r){return i(rq,rC(n),r)},rl,t(function(r,t){return o(rj,rC(n),r,t)}),rE,rB(rC(n)),u,-1e4,1e4,a);switch(c.$){case 2:return w(e,-c.a);case 0:return w(e,1e4);default:return w(e,-1e4)}},e);return o(nW,t(function(n,r){var t=n.a,e=n.b,u=r.a,i=r.b;return y(e,i)>0?w(nk(t),e):w(u,i)}),w(nI,-2e4),a).a}),rX=u(function(n,r,t,u){return o(e(function(t,e,o){for(;;){if(y(t,u)>0)return e;var f=a(rP,n,r,o,t),c=function(){if(f.$)return o;var n=f.a;return i(s,n,i(ri,function(r){return!p(r,n)},o))}();t+=1,e=f.$?e:nk(f.a),o=c}}),1,nI,t)}),rY=e(function(n,r,t){var e=rc(i(ri,function(t){var e=rT(o(rj,n,t,r));return!e.$&&p(e.a,n)},t)),u=rc(i(ri,function(t){return!rT(o(rj,rC(n),t,r)).$},t));return e.$?u:nk(e.a)}),r_=t(function(n,r){var t=rl(r),e=o(rY,n,r,t);if(e.$){var u=i(rb,t,r),f=o(rB,n,r,t);return nF(t)>4?a(rX,n,r,f,u):a(rP,n,r,f,u)}return nk(e.a)}),rU=e(function(n,r,t){return n(r(t))}),rz=t(function(n,r){return!i(rt,i(rU,rd,n),r)}),rV={$:3},rH=function(n){return{$:4,a:n}},rK=e(function(n,r,t){return{T:r,ae:n,Q:t}}),rZ=r(6,ns=function(n,r,t,e,u,i){return{co:n,G:u,d_:r,bY:t,cW:i,b$:e}},function(n){return function(r){return function(t){return function(e){return function(u){return function(i){return ns(n,r,t,e,u,i)}}}}}}),r0=function(n){return{$:1,a:n}},r1=function(n){return{$:0,a:n}},r2=function(n){return{$:2,a:n}},r3=function(n){return{$:1,a:n}},r5=function(n){return{$:0,a:n}},r4=i(J,function(n){switch(n){case"Light":return r5(0);case"Dark":return r5(1);default:return r3("Invalid colorScheme: "+n)}},S),r6=i(J,function(n){switch(n){case"InvalidMove":return r5(0);case"GameLogicError":return r5(1);case"WorkerCommunicationError":return r5(2);case"JsonError":return r5(3);case"TimeoutError":return r5(4);default:return r5(5)}},S),r9=function(n){return{$:3,b:n}},r7=function(n){return n},r8=function(n){return{$:5,c:n}},tn=function(n){return{$:11,g:n}},tr=function(n){return tn(d([r8(nI),i(D,nk,n)]))},tt=q(nK),te=t(function(n,r){return o(ru,C,r,n)}),tu=e(function(n,r,t){var e=function(n){return tn(d([n,r8(t)]))};return i(J,function(u){var o=i(Q,i(te,n,F),u);if(o.$)return r5(t);var a=o.a,f=i(Q,e(r),a);return f.$?i(te,n,e(r)):r5(f.a)},F)}),ti=u(function(n,r,t,e){return i(tt,o(tu,d([n]),r,t),e)}),to=t(function(n,r){return w(n,r)}),ta=e(function(n,r,t){return i(tt,i(C,n,r),t)}),tf=(nb=i(J,function(n){switch(n){case"X":return r5(0);case"O":return r5(1);default:return r3("Invalid player: "+n)}},S),nl=i(J,function(n){switch(n){case"Waiting":return i(D,r1,i(C,"player",nb));case"Thinking":return i(D,r0,i(C,"player",nb));case"Winner":return i(D,r2,i(C,"player",nb));case"Draw":return r5(rV);case"Error":return i(D,rH,a(ti,"recoverable",W,!0,a(ti,"errorType",r6,5,o(ta,"message",S,r5(rK)))));default:return r3("Invalid game state type: "+n)}},i(C,"type",S)),nh=r9(r9(tr(nb))),a(ti,"maybeWindow",tr(o(q,to,i(C,"width",N),i(C,"height",N))),nI,o(ta,"colorScheme",r4,a(ti,"now",tr(i(D,r7,N)),nI,a(ti,"lastMove",tr(i(D,r7,N)),nI,o(ta,"gameState",nl,o(ta,"board",nh,r5(rZ)))))))),tc=t(function(n,r){return 1>n?"":o(M,0,n,r)}),tL=function(n){var r=i(Q,tf,n);if(r.$){var e=r.a,u=100===(a=i(tc,100,i(U,0,n))).length?a+"...":a;return rn({T:3,ae:"Worker failed to decode model: "+nX(e)+" (JSON: "+u+")",Q:!0})}var a,f,c=3!==nF((f=r.a).co)?nw(rr("Invalid model: board must have exactly 3 rows")):i(rz,function(n){return 3===nF(n)},f.co)?1===f.d_.$?nA(f):nw(rr("Worker should only receive Thinking state")):nw(rr("Invalid model: all rows must have exactly 3 columns"));return c.$?rn(c.a):function(n){var r=n.d_;if(1===r.$){var e,u,a,f,c,L,s,d,v=r.a,b=(u=3===nF(e=n.co)&&i(rz,function(n){return 3===nF(n)},e),s=9>=(L=(f=(a=o(nW,t(function(n,r){var t=r.a,e=r.b;return n.$?w(t,e):n.a?w(t,e+1):w(t+1,e)}),w(0,0),rw(e))).a)+(c=a.b)),d=p(f,c)||p(f,c+1),u?d?s?nA(e):nw(rr("Too many pieces on board - total: "+nM(L))):nw(rr("Invalid piece count - X: "+nM(f)+", O: "+nM(c))):nw(rr("Board has invalid dimensions - must be 3x3")));if(b.$)return rn(b.a);var l=i(r_,v,b.a);return l.$?rn({T:1,ae:"AI could not find a valid move - board may be full or invalid",Q:!0}):{$:0,a:l.a}}return rn(rr("Worker received unexpected game state"))}(c.a)},ts=function(n){switch(n){case 0:default:return"InvalidMove";case 1:case 4:return"GameLogicError";case 2:case 3:return"WorkerCommunicationError"}},td=function(n){return o(nW,t(function(n,r){return o(V,n.a,n.b,r)}),{},n)},tv=(ne[nd="sendMove"]&&g(3),ne[nd]={e:ng,u:r7,a:function(n){var r=[],t=ne[n].u,u={$:2,b:function(n){var r=setTimeout(function(){n({$:0,a:0})},0);return function(){clearTimeout(r)}},c:null};return ne[n].b=u,ne[n].c=e(function(n,e){for(;e.b;e=e.b)for(var i=r,o=t(e.a),a=0;i.length>a;a++)i[a](o);return u}),{subscribe:function(n){r.push(n)},unsubscribe:function(n){var t=(r=r.slice()).indexOf(n);0>t||r.splice(t,1)}}}},nu(nd));n$={GameWorker:{init:nt({gp:function(){return w(0,n7)},hX:function(){return n8(tL)},ij:t(function(n,r){return w(r,tv(function(n){switch(n.$){case 0:var r=n.a;return td(d([w("type","MoveMade"),w("position",td(d([w("row",r.eL),w("col",r.dL)])))]));case 1:return td(d([w("type","ResetGame")]));case 2:var t=n.a;return td(d([w("type","GameError"),w("errorInfo",td(d([w("message",t.ae),w("errorType",ts(t.T)),w("recoverable",t.Q)])))]));case 3:var e=n.a;return td(d([w("type","ColorScheme"),w("colorScheme",e?"Dark":"Light")]));case 4:var u=n.a;return td(d([w("type","GetViewPort"),w("viewport",td(d([w("scene",td(d([w("width",u.eN.cg),w("height",u.eN.bU)]))),w("viewport",td(d([w("x",u.cf.e7),w("y",u.cf.e8),w("width",u.cf.cg),w("height",u.cf.bU)])))])))]));case 5:var i=n.a,o=n.b;return td(d([w("type","GetResize"),w("width",i),w("height",o)]));default:var a=n.a;return td(d([w("type","Tick"),w("time",a)]))}}(n)))})})(r5(0))(0)}},n.Elm?function n(r,t){for(var e in t)e in r?"init"==e?g(6):n(r[e],t[e]):r[e]=t[e]}(n.Elm,n$):n.Elm=n$}(n);let r=(0,n.Elm).GameWorker.init();self.onmessage=function({data:n}){r.ports.getModel.send(n)},r.ports.sendMove.subscribe(function(n){self.postMessage(n)})}();