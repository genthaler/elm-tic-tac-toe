!function(){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},e={},t=r.parcelRequired732;null==t&&((t=function(r){if(r in n)return n[r].exports;if(r in e){var t=e[r];delete e[r];var u={id:r,exports:{}};return n[r]=u,t.call(u.exports,u,u.exports),u.exports}var a=Error("Cannot find module '"+r+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(r,n){e[r]=n},r.parcelRequired732=t);var u=t.register;u("1t6aQ",function(r,n){let e;var u=t("ektWR");console.log("Elm object:",u.Elm),console.log("Available Elm modules:",Object.keys(u.Elm||{}));try{if(!u.Elm||!u.Elm.TicTacToe.GameWorker)throw Error("GameWorker module not available. Available modules: "+Object.keys(u.Elm||{}));e=u.Elm.TicTacToe.GameWorker.init(),console.log("GameWorker initialized successfully")}catch(r){throw console.error("Failed to initialize GameWorker:",r),self.postMessage({type:"GameError",errorInfo:{message:"Worker initialization failed: "+r.message,errorType:"WorkerCommunicationError",recoverable:!0}}),r}self.onerror=r=>{console.error("Worker self error:",r)},self.onunhandledrejection=r=>{console.error("Worker unhandled rejection:",r)},self.onmessage=function({data:r}){console.log("data in worker",r),e&&e.ports&&e.ports.getModel?e.ports.getModel.send(r):(console.error("App or ports not available"),self.postMessage({type:"GameError",errorInfo:{message:"Worker app not properly initialized",errorType:"WorkerCommunicationError",recoverable:!0}}))},e&&e.ports&&e.ports.sendMove?e.ports.sendMove.subscribe(function(r){console.log("data from GameWorker",r),self.postMessage(r)}):console.error("Cannot subscribe to sendMove port - app not initialized")}),u("ektWR",function(r,n){!function(r){"use strict";function n(r,n,e){return e.a=r,e.f=n,e}function e(r){return n(2,r,function(n){return function(e){return r(n,e)}})}function t(r){return n(3,r,function(n){return function(e){return function(t){return r(n,e,t)}}})}function u(r){return n(4,r,function(n){return function(e){return function(t){return function(u){return r(n,e,t,u)}}}})}function a(r,n,e){return 2===r.a?r.f(n,e):r(n)(e)}function o(r,n,e,t){return 3===r.a?r.f(n,e,t):r(n)(e)(t)}function i(r,n,e,t,u){return 4===r.a?r.f(n,e,t,u):r(n)(e)(t)(u)}function f(r,n,e,t,u,a,o,i,f,c){return 9===r.a?r.f(n,e,t,u,a,o,i,f,c):r(n)(e)(t)(u)(a)(o)(i)(f)(c)}var c={$:0};function s(r,n){return{$:1,a:r,b:n}}var d=e(s);function l(r){for(var n=c,e=r.length;e--;)n=s(r[e],n);return n}function b(r){for(var n=[];r.b;r=r.b)n.push(r.a);return n}var v=t(function(r,n,e){for(var t=[];n.b&&e.b;n=n.b,e=e.b)t.push(a(r,n.a,e.a));return l(t)}),h=e(function(r,n){return l(b(n).sort(function(n,e){return w(r(n),r(e))}))}),$=t(function(r,n,e){for(var t=Array(r),u=0;r>u;u++)t[u]=e(n+u);return t}),p=e(function(r,n){for(var e=Array(r),t=0;r>t&&n.b;t++)e[t]=n.a,n=n.b;return e.length=t,E(e,n)});function m(r){throw Error("https://github.com/elm/core/blob/1.0.0/hints/"+r+".md")}function g(r,n){for(var e,t=[],u=y(r,n,0,t);u&&(e=t.pop());u=y(e.a,e.b,0,t));return u}function y(r,n,e,t){if(r===n)return!0;if("object"!=typeof r||null===r||null===n)return"function"==typeof r&&m(5),!1;if(e>100)return t.push(E(r,n)),!0;for(var u in 0>r.$&&(r=ry(r),n=ry(n)),r)if(!y(r[u],n[u],e+1,t))return!1;return!0}function w(r,n,e){if("object"!=typeof r)return r===n?0:n>r?-1:1;if(void 0===r.$)return(e=w(r.a,n.a))||(e=w(r.b,n.b))?e:w(r.c,n.c);for(;r.b&&n.b&&!(e=w(r.a,n.a));r=r.b,n=n.b);return e||(r.b?1:n.b?-1:0)}function E(r,n){return{a:r,b:n}}function T(r,n){if("string"==typeof r)return r+n;if(!r.b)return n;var e=s(r.a,n);r=r.b;for(var t=e;r.b;r=r.b)t=t.b=s(r.a,n);return e}var k=e(function(r,n){return r+n}),W=Math.ceil,A=Math.floor,O=Math.log,j=e(function(r,n){return n.split(r)}),C=e(function(r,n){return n.join(r)}),M=t(function(r,n,e){return e.slice(r,n)}),x=e(function(r,n){for(var e=n.length;e--;){var t=n[e],u=n.charCodeAt(e);if(56320>u||u>57343||(t=n[--e]+t),!r(t))return!1}return!0});function G(r){return{$:2,b:r}}var I=G(function(r){return"number"!=typeof r?q("an INT",r):r>-0x7fffffff&&0x7fffffff>r&&(0|r)===r?rW(r):!isFinite(r)||r%1?q("an INT",r):rW(r)}),S=G(function(r){return"boolean"==typeof r?rW(r):q("a BOOL",r)}),R=(G(function(r){return"number"==typeof r?rW(r):q("a FLOAT",r)}),G(function(r){return rW(r)})),L=G(function(r){return"string"==typeof r?rW(r):r instanceof String?rW(r+""):q("a STRING",r)}),N=e(function(r,n){return{$:6,d:r,b:n}});function J(r,n){return{$:9,f:r,g:n}}var D=e(function(r,n){return{$:10,b:n,h:r}}),z=e(function(r,n){return J(r,[n])}),F=t(function(r,n,e){return J(r,[n,e])}),Y=e(function(r,n){return _(r,n)});function _(r,n){switch(r.$){case 2:return r.b(n);case 5:return null===n?rW(r.c):q("null",n);case 3:return V(n)?B(r.b,n,l):q("a LIST",n);case 4:return V(n)?B(r.b,n,Z):q("an ARRAY",n);case 6:var e=r.d;if("object"!=typeof n||null===n||!(e in n))return q("an OBJECT with a field named `"+e+"`",n);var t=_(r.b,n[e]);return r6(t)?t:rw(a(rT,e,t.a));case 7:var u=r.e;return V(n)?n.length>u?r6(t=_(r.b,n[u]))?t:rw(a(rk,u,t.a)):q("a LONGER array. Need index "+u+" but only see "+n.length+" entries",n):q("an ARRAY",n);case 8:if("object"!=typeof n||null===n||V(n))return q("an OBJECT",n);var o=c;for(var i in n)if(n.hasOwnProperty(i)){if(!r6(t=_(r.b,n[i])))return rw(a(rT,i,t.a));o=s(E(i,t.a),o)}return rW(rY(o));case 9:for(var f=r.f,d=r.g,b=0;d.length>b;b++){if(!r6(t=_(d[b],n)))return t;f=f(t.a)}return rW(f);case 10:return r6(t=_(r.b,n))?_(r.h(t.a),n):t;case 11:for(var v=c,h=r.g;h.b;h=h.b){if(r6(t=_(h.a,n)))return t;v=s(t.a,v)}return rw(rA(rY(v)));case 1:return rw(a(rE,r.a,n));case 0:return rW(r.a)}}function B(r,n,e){for(var t=n.length,u=Array(t),o=0;t>o;o++){var i=_(r,n[o]);if(!r6(i))return rw(a(rk,o,i.a));u[o]=i.a}return rW(e(u))}function V(r){return Array.isArray(r)||"undefined"!=typeof FileList&&r instanceof FileList}function Z(r){return a(r4,r.length,function(n){return r[n]})}function q(r,n){return rw(a(rE,"Expecting "+r,n))}var P=e(function(r,n){return JSON.stringify(n,null,r)+""}),Q=t(function(r,n,e){return e[r]=n,e}),X=e(function(r,n){return{$:3,b:r,d:n}}),U=0,H=!1,K=[];function rr(r){if(K.push(r),!H){for(H=!0;r=K.shift();)!function(r){for(;r.f;){var n=r.f.$;if(0===n||1===n){for(;r.g&&r.g.$!==n;)r.g=r.g.i;if(!r.g)return;r.f=r.g.b(r.f.a),r.g=r.g.i}else{if(2===n)return void(r.f.c=r.f.b(function(n){r.f=n,rr(r)}));if(5===n){if(0===r.h.length)return;r.f=r.f.b(r.h.shift())}else r.g={$:+(3!==n),b:r.f.b,i:r.g},r.f=r.f.d}}}(r);H=!1}}var rn=u(function(r,n,e,t){var u,f,c,s,d,l,b,v,h;return u=r.fQ,f=r.hA,c=r.hd,r6(s=a(Y,n,t?t.flags:void 0))||m(2),d={},b=(l=u(s.a)).a,v=function(){},h=function(r,n){var e;for(var t in re){var u=re[t];u.a&&((e=e||{})[t]=u.a(t,n)),r[t]=function(r,n){var e,t={g:n,h:void 0},u=r.c,f=r.d,c=r.e,s=r.f;return rr(e={$:0,e:U++,f:a(X,function r(n){return a(X,r,{$:5,b:function(r){var e=r.a;return 0===r.$?o(f,t,e,n):c&&s?i(u,t,e.i,e.j,n):o(u,t,c?e.i:e.j,n)}})},r.b),g:null,h:[]}),t.h=e}(u,n)}return e}(d,function(r,n){var e=a(f,r,b);v(b=e.a,n),ro(d,e.b,c(b))}),ro(d,l.b,c(b)),h?{ports:h}:{}}),re={};function rt(r){return function(n){return{$:1,k:r,l:n}}}var ru=[],ra=!1;function ro(r,n,e){if(ru.push({p:r,q:n,r:e}),!ra){ra=!0;for(var t;t=ru.shift();)!function(r,n,e){var t,u,a={};for(var o in ri(!0,n,a,null),ri(!1,e,a,null),r)t=r[o],u={$:"fx",a:a[o]||{i:c,j:c}},t.h.push(u),rr(t)}(t.p,t.q,t.r);ra=!1}}function ri(r,n,e,t){switch(n.$){case 1:var u,o,i=n.k,f=(u=n.l,a(r?re[i].e:re[i].f,function(r){for(var n=t;n;n=n.t)r=n.s(r);return r},u));return void(e[i]=(o=(o=e[i])||{i:c,j:c},r?o.i=s(f,o.i):o.j=s(f,o.j),o));case 2:for(var d=n.m;d.b;d=d.b)ri(r,d.a,e,t);return;case 3:return void ri(r,n.o,e,{s:n.n,t:t})}}var rf=e(function(r,n){return n}),rc,rs,rd,rl,rb,rv,rh,r$,rp,rm=e(function(r,n){return function(e){return r(n(e))}}),rg=t(function(r,n,e){for(;;){if(-2===e.$)return n;var t=e.d,u=r,a=o(r,e.b,e.c,o(rg,r,n,e.e));r=u,n=a,e=t}}),ry=function(r){return o(rg,t(function(r,n,e){return a(d,E(r,n),e)}),c,r)},rw=function(r){return{$:1,a:r}},rE=e(function(r,n){return{$:3,a:r,b:n}}),rT=e(function(r,n){return{$:0,a:r,b:n}}),rk=e(function(r,n){return{$:1,a:r,b:n}}),rW=function(r){return{$:0,a:r}},rA=function(r){return{$:2,a:r}},rO=function(r){return{$:0,a:r}},rj={$:1},rC=function(r){return r+""},rM=e(function(r,n){return a(C,r,b(n))}),rx=e(function(r,n){return l(a(j,r,n))}),rG=function(r){return a(rM,"\n    ",a(rx,"\n",r))},rI=t(function(r,n,e){for(;;){if(!e.b)return n;var t=e.b,u=r,o=a(r,e.a,n);r=u,n=o,e=t}}),rS=function(r){return o(rI,e(function(r,n){return n+1}),0,r)},rR=t(function(r,n,e){for(;;){if(w(r,n)>=1)return e;var t=r,u=n-1,o=a(d,n,e);r=t,n=u,e=o}}),rL=e(function(r,n){return o(rR,r,n,c)}),rN=e(function(r,n){return o(v,r,a(rL,0,rS(n)-1),n)}),rJ=function(r){var n=r.charCodeAt(0);return 55296>n||n>56319?n:1024*(n-55296)+r.charCodeAt(1)-56320+65536},rD=function(r){var n=rJ(r);return n>=97&&122>=n},rz=function(r){var n=rJ(r);return 90>=n&&n>=65},rF=function(r){var n;return rD(r)||rz(r)||57>=(n=rJ(r))&&n>=48},rY=function(r){return o(rI,d,c,r)},r_=e(function(r,n){return"\n\n("+rC(r+1)+") "+rG(rB(n))}),rB=function(r){return a(rV,r,c)},rV=e(function(r,n){for(;;)switch(r.$){case 0:var e=r.a,t=r.b,u=function(){var r,n=isNaN(r=e.charCodeAt(0))?rj:rO(55296>r||r>56319?E(e[0],e.slice(1)):E(e[0]+e[1],e.slice(2)));if(1===n.$)return!1;var t,u=n.a,o=u.b;return(rD(t=u.a)||rz(t))&&a(x,rF,o)}();r=t,n=a(d,u?"."+e:"['"+e+"']",n);continue;case 1:t=r.b;var o="["+rC(r.a)+"]";r=t,n=a(d,o,n);continue;case 2:var i=r.a;if(i.b){if(i.b.b){var f=(n.b?"The Json.Decode.oneOf at json"+a(rM,"",rY(n)):"Json.Decode.oneOf")+" failed in the following "+rC(rS(i))+" ways:";return a(rM,"\n\n",a(d,f,a(rN,r_,i)))}r=t=i.a;continue}return"Ran into a Json.Decode.oneOf with no possibilities"+(n.b?" at json"+a(rM,"",rY(n)):"!");default:var c=r.a,s=r.b;return(f=n.b?"Problem with the value at json"+a(rM,"",rY(n))+":\n\n    ":"Problem with the given value:\n\n")+rG(a(P,4,s))+"\n\n"+c}}),rZ=u(function(r,n,e,t){return{$:0,a:r,b:n,c:e,d:t}}),rq=[],rP=e(function(r,n){return O(n)/O(r)}),rQ=W(a(rP,2,32)),rX=i(rZ,0,rQ,rq,rq),rU=e(function(r,n){return n(r)}),rH=function(r){return r.length},rK=e(function(r,n){return w(r,n)>0?r:n}),r0=e(function(r,n){for(;;){var e=a(p,32,r),t=e.b,u=a(d,{$:0,a:e.a},n);if(!t.b)return rY(u);r=t,n=u}}),r1=function(r){return r.a},r2=e(function(r,n){for(;;){var e=W(n/32);if(1===e)return a(p,32,r).a;r=a(r0,r,c),n=e}}),r3=e(function(r,n){if(n.t){var e=32*n.t,t=A(a(rP,32,e-1)),u=a(r2,r?rY(n.y):n.y,n.t);return i(rZ,rH(n.w)+e,a(rK,5,t*rQ),u,n.w)}return i(rZ,rH(n.w),rQ,rq,n.w)}),r5=n(5,rc=function(r,n,e,t,u){for(;;){if(0>n)return a(r3,!1,{y:t,t:e/32|0,w:u});var i={$:1,a:o($,32,n,r)};n-=32,t=a(d,i,t)}},function(r){return function(n){return function(e){return function(t){return function(u){return rc(r,n,e,t,u)}}}}}),r4=e(function(r,n){if(r>0){var e,t,u=r%32;return e=r-u-32,t=o($,u,r-u,n),5===r5.a?r5.f(n,e,r,c,t):r5(n)(e)(r)(c)(t)}return rX}),r6=function(r){return!r.$},r9={$:2,m:c},r7=(re[rb="getModel"]&&m(3),re[rb]={f:rm,u:R,a:function(r,n){var e=c,u=re[r].u,o={$:0,a:null};return re[r].b=o,re[r].c=t(function(r,n){return e=n,o}),{send:function(r){var t=a(Y,u,r);r6(t)||m(4);for(var o=t.a,i=e;i.b;i=i.b)n(i.a(o))}}}},rt(rb)),r8=function(r){return{$:2,a:r}},nr=function(r){return{V:2,af:r,S:!0}},nn=u(function(r,n,e,t){if(t.b){var u=t.a,f=t.b;if(f.b){var c=f.a,s=f.b;if(s.b){var d=s.a,l=s.b;if(l.b){var b=l.b;return a(r,u,a(r,c,a(r,d,a(r,l.a,e>500?o(rI,r,n,rY(b)):i(nn,r,n,e+1,b)))))}return a(r,u,a(r,c,a(r,d,n)))}return a(r,u,a(r,c,n))}return a(r,u,n)}return n}),ne=t(function(r,n,e){return i(nn,r,n,0,e)}),nt=e(function(r,n){return o(ne,e(function(n,e){return r(n)?a(d,n,e):e}),c,n)}),nu=e(function(r,n){return n.$?rj:r(n.a)}),na=t(function(r,n,e){return n(r(e))}),no=e(function(r,n){for(;;){if(r>0&&n.b){r-=1,n=n.b;continue}return n}}),ni=function(r){return r.b?rO(r.a):rj},nf=e(function(r,n){return n.$?r:n.a}),nc=e(function(r,n){return 0>r.ea||r.ea>2||0>r.de||r.de>2?rj:a(nf,rj,a(nu,a(na,no(r.de),ni),ni(a(no,r.ea,n))))}),ns=e(function(r,n){for(;;){if(!n.b)return!1;var e=n.b;if(r(n.a))return!0;n=e}}),nd=e(function(r,n){return a(ns,function(n){return g(n,r)},n)}),nl=function(r){return!r},nb=e(function(r,n){return 0>w(r,n)?r:n}),nv=e(function(r,n){var e,t=rS(r),u=+(e=l([l([a(nc,{de:0,ea:0},n),a(nc,{de:1,ea:0},n),a(nc,{de:2,ea:0},n)]),l([a(nc,{de:0,ea:1},n),a(nc,{de:1,ea:1},n),a(nc,{de:2,ea:1},n)]),l([a(nc,{de:0,ea:2},n),a(nc,{de:1,ea:2},n),a(nc,{de:2,ea:2},n)]),l([a(nc,{de:0,ea:0},n),a(nc,{de:0,ea:1},n),a(nc,{de:0,ea:2},n)]),l([a(nc,{de:1,ea:0},n),a(nc,{de:1,ea:1},n),a(nc,{de:1,ea:2},n)]),l([a(nc,{de:2,ea:0},n),a(nc,{de:2,ea:1},n),a(nc,{de:2,ea:2},n)]),l([a(nc,{de:0,ea:0},n),a(nc,{de:1,ea:1},n),a(nc,{de:2,ea:2},n)]),l([a(nc,{de:2,ea:0},n),a(nc,{de:1,ea:1},n),a(nc,{de:0,ea:2},n)])]),rS(a(nt,function(r){var n=a(nd,rO(0),r),e=a(nd,rO(1),r);return(n||e)&&a(nd,rj,r)&&!(n&&e)},e))>=3);return a(nb,9,function(){switch(t){case 1:return 1;case 2:return 3;case 3:default:return 5;case 4:case 6:return 6;case 5:return 7}}()+(7>t?4>t?3:2:1)+u)}),nh=function(r){return a(nt,function(n){return g(a(nc,n,r),rj)},l([{de:0,ea:0},{de:1,ea:0},{de:2,ea:0},{de:0,ea:1},{de:1,ea:1},{de:2,ea:1},{de:0,ea:2},{de:1,ea:2},{de:2,ea:2}]))},n$={$:2},np={$:1},nm=t(function(r,n,e){var t=r(n);return t.$?e:a(d,t.a,e)}),ng=e(function(r,n){return o(ne,nm(r),c,n)}),ny=function(r){var n=l([l([a(nc,{de:0,ea:0},r),a(nc,{de:1,ea:1},r),a(nc,{de:2,ea:2},r)]),l([a(nc,{de:2,ea:0},r),a(nc,{de:1,ea:1},r),a(nc,{de:0,ea:2},r)])]),e=T(r,T(l([l([a(nc,{de:0,ea:0},r),a(nc,{de:0,ea:1},r),a(nc,{de:0,ea:2},r)]),l([a(nc,{de:1,ea:0},r),a(nc,{de:1,ea:1},r),a(nc,{de:1,ea:2},r)]),l([a(nc,{de:2,ea:0},r),a(nc,{de:2,ea:1},r),a(nc,{de:2,ea:2},r)])]),n));return ni(a(ng,function(r){if(!r.b||r.a.$||!r.b.b||r.b.a.$||!r.b.b.b||r.b.b.a.$||r.b.b.b.b)return rj;var n=r.a.a,e=r.b,t=e.a.a,u=e.b.a.a;return g(n,t)&&g(t,u)?rO(n):rj},e))},nw=e(function(r,n){return n.b?o(ne,d,n,r):r}),nE=function(r){return o(ne,nw,c,r)},nT=function(r){var n=ny(r);return n.$?!a(nd,rj,nE(r))&&g(ny(r),rj)?np:n$:{$:0,a:n.a}},nk=function(r){return 2!==nT(r).$},nW=t(function(r,n,t){return a(rN,e(function(t,u){return g(t,n.ea)?a(rN,e(function(e,t){return g(e,n.de)?rO(r):t}),u):u}),t)}),nA=e(function(r,n){return o(ne,e(function(n,e){return a(d,r(n),e)}),c,n)}),nO=function(r){return{$:2,a:r}},nj={$:1},nC={$:0},nM=e(function(r,n){switch(r.$){case 0:return!g(n,nC);case 1:return!1;default:var e=r.a;switch(n.$){case 1:return!0;case 2:return w(e,n.a)>0;default:return!1}}}),nx=e(function(r,n){return a(nM,r,n)?r:n}),nG=function(r){return-r},nI=function(r){switch(r.$){case 2:return nO(-r.a);case 0:return nj;default:return nC}},nS=n(9,rs=function(r,n,e,u,i,c,s,d,l){if(!c||u(l))return nO(r(l));var b=t(function(t,o,s){for(;;){if(!o.b)return s;var b=o.b,v=nI(f(nS,function(n){return-r(n)},n,e,u,i,c-1,-d,-t,a(e,o.a,l))),h=a(nx,s,v),$=2===v.$?a(rK,t,v.a):t;if(w($,d)>-1)return h;t=$,o=b,s=h}}),v=a(i,l,n(l));return v.b?o(b,s,v,nj):nO(r(l))},function(r){return function(n){return function(e){return function(t){return function(u){return function(a){return function(o){return function(i){return function(f){return rs(r,n,e,t,u,a,o,i,f)}}}}}}}}}),nR=e(function(r,n){return a(nA,function(n){return a(nc,n,r)},n)}),nL=function(r){return!r.b},nN=function(r){return+!r},nJ=e(function(r,n){var e=rS(a(nt,function(n){return g(n,rO(r))},n)),t=rS(a(nt,function(n){return g(n,rO(nN(r)))},n)),u=rS(a(nt,function(r){return g(r,rj)},n));return e>0&&!t&&u>0}),nD=t(function(r,n,e){var t,u,i,f,s=o(nW,r,n,e),d=rS(a(nt,nJ(r),a(nA,nR(s),(t=l([{de:0,ea:n.ea},{de:1,ea:n.ea},{de:2,ea:n.ea}]),u=g(n.ea,n.de)?l([{de:0,ea:0},{de:1,ea:1},{de:2,ea:2}]):c,i=l([{de:n.de,ea:0},{de:n.de,ea:1},{de:n.de,ea:2}]),f=n.ea+n.de===2?l([{de:2,ea:0},{de:1,ea:1},{de:0,ea:2}]):c,T(l([t,i]),T(nL(u)?c:l([u]),nL(f)?c:l([f])))))));return 2>d?5*(1===d):20}),nz=e(function(r,n){var e=rS(a(nt,function(n){return g(n,rO(r))},n));if(3===e)return 100;var t=rS(a(nt,function(n){return g(n,rO(nN(r)))},n));if(3===t)return -100;var u=rS(a(nt,function(r){return g(r,rj)},n));return 2===e&&1===u?10:2===t&&1===u?-10:1===e&&2===u?1:1===t&&2===u?-1:0}),nF=e(function(r,n){var e,t,u,i=nT(n);switch(i.$){case 0:return g(i.a,r)?1e3:-1e3;case 1:return 0;default:var f={aY:a(nc,{de:0,ea:0},n),b3:a(nc,{de:1,ea:0},n),aZ:a(nc,{de:2,ea:0},n),b4:a(nc,{de:0,ea:1},n),aC:a(nc,{de:1,ea:1},n),b5:a(nc,{de:2,ea:1},n),a_:a(nc,{de:0,ea:2},n),b6:a(nc,{de:1,ea:2},n),a$:a(nc,{de:2,ea:2},n)},c=(u=f.aC).$?0:g(u.a,r)?3:-3,s=(t=rS(a(nt,function(n){return g(n,rO(nN(r)))},e=l([f.aY,f.aZ,f.a_,f.a$]))),2*(rS(a(nt,function(n){return g(n,rO(r))},e))-t)),d=l([l([f.aY,f.b3,f.aZ]),l([f.b4,f.aC,f.b5]),l([f.a_,f.b6,f.a$]),l([f.aY,f.b4,f.a_]),l([f.b3,f.aC,f.b6]),l([f.aZ,f.b5,f.a$]),l([f.aY,f.aC,f.a$]),l([f.aZ,f.aC,f.a_])]);return o(rI,k,0,a(nA,nz(r),d))+c+s}}),nY=function(r){return r.b},n_=t(function(r,n,e){return a(nA,r1,a(h,a(na,nY,nG),a(nA,function(e){return E(e,function(e){var t,u=o(nW,r,e,n),i=(t=nT(u)).$?0:1e4*!!g(t.a,r);if(i>0)return i;var f=5e3*!nT(o(nW,nN(r),e,n)).$;return f>0?f:a(nF,r,u)+(1===e.ea&&1===e.de?15:e.ea&&2!==e.ea||e.de&&2!==e.de?2:8)+o(nD,r,e,n)}(e))},e)))}),nB=u(function(r,n,t,u){var i=a(nA,function(t){var i=o(nW,r,t,n),c=f(nS,function(n){return a(nF,nN(r),n)},nh,e(function(n,e){return o(nW,nN(r),n,e)}),nk,n_(nN(r)),u,-1e4,1e4,i);switch(c.$){case 2:return E(t,-c.a);case 0:return E(t,1e4);default:return E(t,-1e4)}},t);return o(rI,e(function(r,n){var e=r.a,t=r.b,u=n.a,a=n.b;return w(t,a)>0?E(rO(e),t):E(u,a)}),E(rj,-2e4),i).a}),nV=u(function(r,n,e,u){return o(t(function(e,t,o){for(;;){if(w(e,u)>0)return t;var f=i(nB,r,n,o,e),c=function(){if(f.$)return o;var r=f.a;return a(d,r,a(nt,function(n){return!g(n,r)},o))}();e+=1,t=f.$?t:rO(f.a),o=c}}),1,rj,e)}),nZ=t(function(r,n,e){var t=ni(a(nt,function(e){var t=nT(o(nW,r,e,n));return!t.$&&g(t.a,r)},e));return t.$?ni(a(nt,function(e){return!nT(o(nW,nN(r),e,n)).$},e)):rO(t.a)}),nq=e(function(r,n){var e=nh(n),t=o(nZ,r,n,e);if(t.$){var u=a(nv,e,n),f=o(n_,r,n,e);return rS(e)>4?i(nV,r,n,f,u):i(nB,r,n,f,u)}return rO(t.a)}),nP=t(function(r,n,e){return r(n(e))}),nQ=e(function(r,n){return!a(ns,a(nP,nl,r),n)}),nX={$:3},nU=function(r){return{$:4,a:r}},nH=t(function(r,n,e){return{V:n,af:r,S:e}}),nK=n(6,rd=function(r,n,e,t,u,a){return{b2:r,H:u,dr:n,bF:e,cu:a,bI:t}},function(r){return function(n){return function(e){return function(t){return function(u){return function(a){return rd(r,n,e,t,u,a)}}}}}}),n0=function(r){return{$:1,a:r}},n1=function(r){return{$:0,a:r}},n2=function(r){return{$:2,a:r}},n3=function(r){return{$:1,a:r}},n5=function(r){return{$:0,a:r}},n4=a(D,function(r){switch(r){case"Light":return n5(0);case"Dark":return n5(1);default:return n3("Invalid colorScheme: "+r)}},L),n6=a(z,function(r){switch(r){case"InvalidMove":return 0;case"GameLogicError":return 1;case"WorkerCommunicationError":return 2;case"JsonError":return 3;case"TimeoutError":return 4;default:return 5}},L),n9=function(r){return{$:3,b:r}},n7=function(r){return r},n8=function(r){return{$:5,c:r}},er=function(r){return{$:11,g:r}},en=function(r){return er(l([n8(rj),a(z,rO,r)]))},ee=F(rU),et=e(function(r,n){return o(ne,N,n,r)}),eu=t(function(r,n,e){var t=function(r){return er(l([r,n8(e)]))};return a(D,function(u){var o=a(Y,a(et,r,R),u);if(o.$)return n5(e);var i=o.a,f=a(Y,t(n),i);return f.$?a(et,r,t(n)):n5(f.a)},R)}),ea=u(function(r,n,e,t){return a(ee,o(eu,l([r]),n,e),t)}),eo=e(function(r,n){return E(r,n)}),ei=t(function(r,n,e){return a(ee,a(N,r,n),e)}),ef=(rv=a(D,function(r){switch(r){case"X":return n5(0);case"O":return n5(1);default:return n3("Invalid player: "+r)}},L),rh=a(D,function(r){switch(r){case"Waiting":return a(z,n1,a(N,"player",rv));case"Thinking":return a(z,n0,a(N,"player",rv));case"Winner":return a(z,n2,a(N,"player",rv));case"Draw":return n5(nX);case"Error":return a(z,nU,i(ea,"recoverable",S,!0,i(ea,"errorType",n6,5,o(ei,"message",L,n5(nH)))));default:return n3("Invalid game state type: "+r)}},a(N,"type",L)),r$=n9(n9(en(rv))),i(ea,"maybeWindow",en(o(F,eo,a(N,"width",I),a(N,"height",I))),rj,o(ei,"colorScheme",n4,i(ea,"now",en(a(z,n7,I)),rj,i(ea,"lastMove",en(a(z,n7,I)),rj,o(ei,"gameState",rh,o(ei,"board",r$,n5(nK)))))))),ec=e(function(r,n){return 1>r?"":o(M,0,r,n)}),es=function(r){var n=a(Y,ef,r);if(n.$){var t=n.a,u=100===(i=a(ec,100,a(P,0,r))).length?i+"...":i;return r8({V:3,af:"Worker failed to decode model: "+rB(t)+" (JSON: "+u+")",S:!0})}var i,f,c=3!==rS((f=n.a).b2)?rw(nr("Invalid model: board must have exactly 3 rows")):a(nQ,function(r){return 3===rS(r)},f.b2)?1===f.dr.$?rW(f):rw(nr("Worker should only receive Thinking state")):rw(nr("Invalid model: all rows must have exactly 3 columns"));return c.$?r8(c.a):function(r){var n=r.dr;if(1===n.$){var t=n.a,u=function(r){var n=3===rS(r)&&a(nQ,function(r){return 3===rS(r)},r),t=o(rI,e(function(r,n){var e=n.a,t=n.b;return r.$?E(e,t):r.a?E(e,t+1):E(e+1,t)}),E(0,0),nE(r)),u=t.a,i=t.b;if(n){if(g(u,i)||g(u,i+1)){var f=u+i;return f>9?rw(nr("Too many pieces on board - total: "+rC(f))):rW(r)}return rw(nr("Invalid piece count - X: "+rC(u)+", O: "+rC(i)))}return rw(nr("Board has invalid dimensions - must be 3x3"))}(r.b2);if(u.$)return r8(u.a);var i=a(nq,t,u.a);return i.$?r8({V:1,af:"AI could not find a valid move - board may be full or invalid",S:!0}):{$:0,a:i.a}}return r8(nr("Worker received unexpected game state"))}(c.a)},ed=function(r){switch(r){case 0:return"InvalidMove";case 1:return"GameLogicError";case 2:return"WorkerCommunicationError";case 3:return"JsonError";case 4:return"TimeoutError";default:return"UnknownError"}},el=function(r){return o(rI,e(function(r,n){return o(Q,r.a,r.b,n)}),{},r)},eb=(re[rl="sendMove"]&&m(3),re[rl]={e:rf,u:n7,a:function(r){var n=[],e=re[r].u,u={$:2,b:function(r){var n=setTimeout(function(){r({$:0,a:0})},0);return function(){clearTimeout(n)}},c:null};return re[r].b=u,re[r].c=t(function(r,t){for(;t.b;t=t.b)for(var a=n,o=e(t.a),i=0;a.length>i;i++)a[i](o);return u}),{subscribe:function(r){n.push(r)},unsubscribe:function(r){var e=(n=n.slice()).indexOf(r);0>e||n.splice(e,1)}}}},rt(rl));rp={TicTacToe:{GameWorker:{init:rn({fQ:function(){return E(0,r9)},hd:function(){return r7(es)},hA:e(function(r,n){return E(n,eb(function(r){switch(r.$){case 0:var n=r.a;return el(l([E("type","MoveMade"),E("position",el(l([E("row",n.ea),E("col",n.de)])))]));case 1:return el(l([E("type","ResetGame")]));case 2:var e=r.a;return el(l([E("type","GameError"),E("errorInfo",el(l([E("message",e.af),E("errorType",ed(e.V)),E("recoverable",e.S)])))]));case 3:var t=r.a;return el(l([E("type","ColorScheme"),E("colorScheme",t?"Dark":"Light")]));case 4:var u=r.a;return el(l([E("type","GetViewPort"),E("viewport",el(l([E("scene",el(l([E("width",u.ec.bX),E("height",u.ec.bB)]))),E("viewport",el(l([E("x",u.bW.ez),E("y",u.bW.eA),E("width",u.bW.bX),E("height",u.bW.bB)])))])))]));case 5:var a=r.a,o=r.b;return el(l([E("type","GetResize"),E("width",a),E("height",o)]));default:var i=r.a;return el(l([E("type","Tick"),E("time",i)]))}}(r)))})})(n5(0))(0)}}},r.Elm?function r(n,e){for(var t in e)t in n?"init"==t?m(6):r(n[t],e[t]):n[t]=e[t]}(r.Elm,rp):r.Elm=rp}(r.exports)}),t("1t6aQ")}();