!function(){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},t={},e=n.parcelRequired732;null==e&&((e=function(n){if(n in r)return r[n].exports;if(n in t){var e=t[n];delete t[n];var u={id:n,exports:{}};return r[n]=u,e.call(u.exports,u,u.exports),u.exports}var i=Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(n,r){t[n]=r},n.parcelRequired732=e);var u=e.register;u("1t6aQ",function(n,r){let t=e("leZxj").Elm.GameWorker.init();self.onmessage=function({data:n}){t.ports.getModel.send(n)},t.ports.sendMove.subscribe(function(n){self.postMessage(n)})}),u("leZxj",function(n,r){!function(n){"use strict";function r(n,r,t){return t.a=n,t.f=r,t}function t(n){return r(2,n,function(r){return function(t){return n(r,t)}})}function e(n){return r(3,n,function(r){return function(t){return function(e){return n(r,t,e)}}})}function u(n){return r(4,n,function(r){return function(t){return function(e){return function(u){return n(r,t,e,u)}}}})}function i(n,r,t){return 2===n.a?n.f(r,t):n(r)(t)}function o(n,r,t,e){return 3===n.a?n.f(r,t,e):n(r)(t)(e)}function a(n,r,t,e,u){return 4===n.a?n.f(r,t,e,u):n(r)(t)(e)(u)}function f(n,r,t,e,u,i,o,a,f,c){return 9===n.a?n.f(r,t,e,u,i,o,a,f,c):n(r)(t)(e)(u)(i)(o)(a)(f)(c)}var c={$:0};function d(n,r){return{$:1,a:n,b:r}}var s=t(d);function L(n){for(var r=c,t=n.length;t--;)r=d(n[t],r);return r}function v(n){for(var r=[];n.b;n=n.b)r.push(n.a);return r}var b=e(function(n,r,t){for(var e=[];r.b&&t.b;r=r.b,t=t.b)e.push(i(n,r.a,t.a));return L(e)}),l=t(function(n,r){return L(v(r).sort(function(r,t){return y(n(r),n(t))}))}),h=e(function(n,r,t){for(var e=Array(n),u=0;n>u;u++)e[u]=t(r+u);return e}),$=t(function(n,r){for(var t=Array(n),e=0;n>e&&r.b;e++)t[e]=r.a,r=r.b;return t.length=e,w(t,r)});function g(n){throw Error("https://github.com/elm/core/blob/1.0.0/hints/"+n+".md")}function p(n,r){for(var t,e=[],u=m(n,r,0,e);u&&(t=e.pop());u=m(t.a,t.b,0,e));return u}function m(n,r,t,e){if(n===r)return!0;if("object"!=typeof n||null===n||null===r)return"function"==typeof n&&g(5),!1;if(t>100)return e.push(w(n,r)),!0;for(var u in 0>n.$&&(n=nm(n),r=nm(r)),n)if(!m(n[u],r[u],t+1,e))return!1;return!0}function y(n,r,t){if("object"!=typeof n)return n===r?0:r>n?-1:1;if(void 0===n.$)return(t=y(n.a,r.a))||(t=y(n.b,r.b))?t:y(n.c,r.c);for(;n.b&&r.b&&!(t=y(n.a,r.a));n=n.b,r=r.b);return t||(n.b?1:r.b?-1:0)}function w(n,r){return{a:n,b:r}}function T(n,r){if("string"==typeof n)return n+r;if(!n.b)return r;var t=d(n.a,r);n=n.b;for(var e=t;n.b;n=n.b)e=e.b=d(n.a,r);return t}var E=t(function(n,r){return n+r}),x=Math.ceil,j=Math.floor,O=Math.log,k=t(function(n,r){return r.split(n)}),A=t(function(n,r){return r.join(n)}),I=e(function(n,r,t){return t.slice(n,r)}),M=t(function(n,r){for(var t=r.length;t--;){var e=r[t],u=r.charCodeAt(t);if(56320>u||u>57343||(e=r[--t]+e),!n(e))return!1}return!0});function N(n){return{$:2,b:n}}var F=N(function(n){return"number"!=typeof n?X("an INT",n):n>-0x7fffffff&&0x7fffffff>n&&(0|n)===n?nx(n):!isFinite(n)||n%1?X("an INT",n):nx(n)}),G=N(function(n){return"boolean"==typeof n?nx(n):X("a BOOL",n)}),R=(N(function(n){return"number"==typeof n?nx(n):X("a FLOAT",n)}),N(function(n){return nx(n)})),W=N(function(n){return"string"==typeof n?nx(n):n instanceof String?nx(n+""):X("a STRING",n)}),C=t(function(n,r){return{$:6,d:n,b:r}});function S(n,r){return{$:9,f:n,g:r}}var J=t(function(n,r){return{$:10,b:r,h:n}}),D=t(function(n,r){return S(n,[r])}),q=e(function(n,r,t){return S(n,[r,t])}),Q=t(function(n,r){return U(n,r)});function U(n,r){switch(n.$){case 2:return n.b(r);case 5:return null===r?nx(n.c):X("null",r);case 3:return B(r)?_(n.b,r,L):X("a LIST",r);case 4:return B(r)?_(n.b,r,P):X("an ARRAY",r);case 6:var t=n.d;if("object"!=typeof r||null===r||!(t in r))return X("an OBJECT with a field named `"+t+"`",r);var e=U(n.b,r[t]);return n6(e)?e:ny(i(nT,t,e.a));case 7:var u=n.e;return B(r)?r.length>u?n6(e=U(n.b,r[u]))?e:ny(i(nE,u,e.a)):X("a LONGER array. Need index "+u+" but only see "+r.length+" entries",r):X("an ARRAY",r);case 8:if("object"!=typeof r||null===r||B(r))return X("an OBJECT",r);var o=c;for(var a in r)if(r.hasOwnProperty(a)){if(!n6(e=U(n.b,r[a])))return ny(i(nT,a,e.a));o=d(w(a,e.a),o)}return nx(nQ(o));case 9:for(var f=n.f,s=n.g,v=0;s.length>v;v++){if(!n6(e=U(s[v],r)))return e;f=f(e.a)}return nx(f);case 10:return n6(e=U(n.b,r))?U(n.h(e.a),r):e;case 11:for(var b=c,l=n.g;l.b;l=l.b){if(n6(e=U(l.a,r)))return e;b=d(e.a,b)}return ny(nj(nQ(b)));case 1:return ny(i(nw,n.a,r));case 0:return nx(n.a)}}function _(n,r,t){for(var e=r.length,u=Array(e),o=0;e>o;o++){var a=U(n,r[o]);if(!n6(a))return ny(i(nE,o,a.a));u[o]=a.a}return nx(t(u))}function B(n){return Array.isArray(n)||"undefined"!=typeof FileList&&n instanceof FileList}function P(n){return i(n4,n.length,function(r){return n[r]})}function X(n,r){return ny(i(nw,"Expecting "+n,r))}var Y=t(function(n,r){return JSON.stringify(r,null,n)+""}),Z=e(function(n,r,t){return t[n]=r,t}),z=t(function(n,r){return{$:3,b:n,d:r}}),V=0,H=!1,K=[];function nn(n){if(K.push(n),!H){for(H=!0;n=K.shift();)!function(n){for(;n.f;){var r=n.f.$;if(0===r||1===r){for(;n.g&&n.g.$!==r;)n.g=n.g.i;if(!n.g)return;n.f=n.g.b(n.f.a),n.g=n.g.i}else{if(2===r)return void(n.f.c=n.f.b(function(r){n.f=r,nn(n)}));if(5===r){if(0===n.h.length)return;n.f=n.f.b(n.h.shift())}else n.g={$:+(3!==r),b:n.f.b,i:n.g},n.f=n.f.d}}}(n);H=!1}}var nr=u(function(n,r,t,e){var u,f,c,d,s,L,v,b,l;return u=n.gp,f=n.ij,c=n.hX,n6(d=i(Q,r,e?e.flags:void 0))||g(2),s={},v=(L=u(d.a)).a,b=function(){},l=function(n,r){var t;for(var e in nt){var u=nt[e];u.a&&((t=t||{})[e]=u.a(e,r)),n[e]=function(n,r){var t,e={g:r,h:void 0},u=n.c,f=n.d,c=n.e,d=n.f;return nn(t={$:0,e:V++,f:i(z,function n(r){return i(z,n,{$:5,b:function(n){var t=n.a;return 0===n.$?o(f,e,t,r):c&&d?a(u,e,t.i,t.j,r):o(u,e,c?t.i:t.j,r)}})},n.b),g:null,h:[]}),e.h=t}(u,r)}return t}(s,function(n,r){var t=i(f,n,v);b(v=t.a,r),no(s,t.b,c(v))}),no(s,L.b,c(v)),l?{ports:l}:{}}),nt={};function ne(n){return function(r){return{$:1,k:n,l:r}}}var nu=[],ni=!1;function no(n,r,t){if(nu.push({p:n,q:r,r:t}),!ni){ni=!0;for(var e;e=nu.shift();)!function(n,r,t){var e,u,i={};for(var o in na(!0,r,i,null),na(!1,t,i,null),n)e=n[o],u={$:"fx",a:i[o]||{i:c,j:c}},e.h.push(u),nn(e)}(e.p,e.q,e.r);ni=!1}}function na(n,r,t,e){switch(r.$){case 1:var u,o,a=r.k,f=(u=r.l,i(n?nt[a].e:nt[a].f,function(n){for(var r=e;r;r=r.t)n=r.s(n);return n},u));return void(t[a]=(o=(o=t[a])||{i:c,j:c},n?o.i=d(f,o.i):o.j=d(f,o.j),o));case 2:for(var s=r.m;s.b;s=s.b)na(n,s.a,t,e);return;case 3:return void na(n,r.o,t,{s:r.n,t:e})}}var nf=t(function(n,r){return r}),nc,nd,ns,nL,nv,nb,nl,nh,n$,ng=t(function(n,r){return function(t){return n(r(t))}}),np=e(function(n,r,t){for(;;){if(-2===t.$)return r;var e=t.d,u=n,i=o(n,t.b,t.c,o(np,n,r,t.e));n=u,r=i,t=e}}),nm=function(n){return o(np,e(function(n,r,t){return i(s,w(n,r),t)}),c,n)},ny=function(n){return{$:1,a:n}},nw=t(function(n,r){return{$:3,a:n,b:r}}),nT=t(function(n,r){return{$:0,a:n,b:r}}),nE=t(function(n,r){return{$:1,a:n,b:r}}),nx=function(n){return{$:0,a:n}},nj=function(n){return{$:2,a:n}},nO=function(n){return{$:0,a:n}},nk={$:1},nA=function(n){return n+""},nI=t(function(n,r){return i(A,n,v(r))}),nM=t(function(n,r){return L(i(k,n,r))}),nN=function(n){return i(nI,"\n    ",i(nM,"\n",n))},nF=e(function(n,r,t){for(;;){if(!t.b)return r;var e=t.b,u=n,o=i(n,t.a,r);n=u,r=o,t=e}}),nG=function(n){return o(nF,t(function(n,r){return r+1}),0,n)},nR=e(function(n,r,t){for(;;){if(y(n,r)>=1)return t;var e=n,u=r-1,o=i(s,r,t);n=e,r=u,t=o}}),nW=t(function(n,r){return o(nR,n,r,c)}),nC=t(function(n,r){return o(b,n,i(nW,0,nG(r)-1),r)}),nS=function(n){var r=n.charCodeAt(0);return 55296>r||r>56319?r:1024*(r-55296)+n.charCodeAt(1)-56320+65536},nJ=function(n){var r=nS(n);return r>=97&&122>=r},nD=function(n){var r=nS(n);return 90>=r&&r>=65},nq=function(n){var r;return nJ(n)||nD(n)||57>=(r=nS(n))&&r>=48},nQ=function(n){return o(nF,s,c,n)},nU=t(function(n,r){return"\n\n("+nA(n+1)+") "+nN(n_(r))}),n_=function(n){return i(nB,n,c)},nB=t(function(n,r){for(;;)switch(n.$){case 0:var t=n.a,e=n.b,u=function(){var n,r=isNaN(n=t.charCodeAt(0))?nk:nO(55296>n||n>56319?w(t[0],t.slice(1)):w(t[0]+t[1],t.slice(2)));if(1===r.$)return!1;var e,u=r.a,o=u.b;return(nJ(e=u.a)||nD(e))&&i(M,nq,o)}();n=e,r=i(s,u?"."+t:"['"+t+"']",r);continue;case 1:e=n.b;var o="["+nA(n.a)+"]";n=e,r=i(s,o,r);continue;case 2:var a=n.a;if(a.b){if(a.b.b){var f=(r.b?"The Json.Decode.oneOf at json"+i(nI,"",nQ(r)):"Json.Decode.oneOf")+" failed in the following "+nA(nG(a))+" ways:";return i(nI,"\n\n",i(s,f,i(nC,nU,a)))}n=e=a.a;continue}return"Ran into a Json.Decode.oneOf with no possibilities"+(r.b?" at json"+i(nI,"",nQ(r)):"!");default:var c=n.a,d=n.b;return(f=r.b?"Problem with the value at json"+i(nI,"",nQ(r))+":\n\n    ":"Problem with the given value:\n\n")+nN(i(Y,4,d))+"\n\n"+c}}),nP=u(function(n,r,t,e){return{$:0,a:n,b:r,c:t,d:e}}),nX=[],nY=t(function(n,r){return O(r)/O(n)}),nZ=x(i(nY,2,32)),nz=a(nP,0,nZ,nX,nX),nV=t(function(n,r){return r(n)}),nH=function(n){return n.length},nK=t(function(n,r){return y(n,r)>0?n:r}),n0=t(function(n,r){for(;;){var t=i($,32,n),e=t.b,u=i(s,{$:0,a:t.a},r);if(!e.b)return nQ(u);n=e,r=u}}),n1=function(n){return n.a},n2=t(function(n,r){for(;;){var t=x(r/32);if(1===t)return i($,32,n).a;n=i(n0,n,c),r=t}}),n3=t(function(n,r){if(r.r){var t=32*r.r,e=j(i(nY,32,t-1)),u=i(n2,n?nQ(r.w):r.w,r.r);return a(nP,nH(r.u)+t,i(nK,5,e*nZ),u,r.u)}return a(nP,nH(r.u),nZ,nX,r.u)}),n5=r(5,nc=function(n,r,t,e,u){for(;;){if(0>r)return i(n3,!1,{w:e,r:t/32|0,u:u});var a={$:1,a:o(h,32,r,n)};r-=32,e=i(s,a,e)}},function(n){return function(r){return function(t){return function(e){return function(u){return nc(n,r,t,e,u)}}}}}),n4=t(function(n,r){if(n>0){var t,e,u=n%32;return t=n-u-32,e=o(h,u,n-u,r),5===n5.a?n5.f(r,t,n,c,e):n5(r)(t)(n)(c)(e)}return nz}),n6=function(n){return!n.$},n9={$:2,m:c},n7=(nt[nv="getModel"]&&g(3),nt[nv]={f:ng,u:R,a:function(n,r){var t=c,u=nt[n].u,o={$:0,a:null};return nt[n].b=o,nt[n].c=e(function(n,r){return t=r,o}),{send:function(n){var e=i(Q,u,n);n6(e)||g(4);for(var o=e.a,a=t;a.b;a=a.b)r(a.a(o))}}}},ne(nv)),n8=function(n){return{$:2,a:n}},rn=function(n){return{T:2,ae:n,Q:!0}},rr=t(function(n,r){for(;;){if(!r.b)return!1;var t=r.b;if(n(r.a))return!0;r=t}}),rt=u(function(n,r,t,e){if(e.b){var u=e.a,f=e.b;if(f.b){var c=f.a,d=f.b;if(d.b){var s=d.a,L=d.b;if(L.b){var v=L.b;return i(n,u,i(n,c,i(n,s,i(n,L.a,t>500?o(nF,n,r,nQ(v)):a(rt,n,r,t+1,v)))))}return i(n,u,i(n,c,i(n,s,r)))}return i(n,u,i(n,c,r))}return i(n,u,r)}return r}),re=e(function(n,r,t){return a(rt,n,r,0,t)}),ru=t(function(n,r){return o(re,t(function(r,t){return n(r)?i(s,r,t):t}),c,r)}),ri=t(function(n,r){return r.$?nk:n(r.a)}),ro=e(function(n,r,t){return r(n(t))}),ra=t(function(n,r){for(;;){if(n>0&&r.b){n-=1,r=r.b;continue}return r}}),rf=function(n){return n.b?nO(n.a):nk},rc=t(function(n,r){return r.$?n:r.a}),rd=t(function(n,r){return 0>n.eL||n.eL>2||0>n.dL||n.dL>2?nk:i(rc,nk,i(ri,i(ro,ra(n.dL),rf),rf(i(ra,n.eL,r))))}),rs=function(n){return!n},rL=t(function(n,r){return 0>y(n,r)?n:r}),rv=t(function(n,r){var t,e=nG(n),u=+(t=L([L([i(rd,{dL:0,eL:0},r),i(rd,{dL:1,eL:0},r),i(rd,{dL:2,eL:0},r)]),L([i(rd,{dL:0,eL:1},r),i(rd,{dL:1,eL:1},r),i(rd,{dL:2,eL:1},r)]),L([i(rd,{dL:0,eL:2},r),i(rd,{dL:1,eL:2},r),i(rd,{dL:2,eL:2},r)]),L([i(rd,{dL:0,eL:0},r),i(rd,{dL:0,eL:1},r),i(rd,{dL:0,eL:2},r)]),L([i(rd,{dL:1,eL:0},r),i(rd,{dL:1,eL:1},r),i(rd,{dL:1,eL:2},r)]),L([i(rd,{dL:2,eL:0},r),i(rd,{dL:2,eL:1},r),i(rd,{dL:2,eL:2},r)]),L([i(rd,{dL:0,eL:0},r),i(rd,{dL:1,eL:1},r),i(rd,{dL:2,eL:2},r)]),L([i(rd,{dL:2,eL:0},r),i(rd,{dL:1,eL:1},r),i(rd,{dL:0,eL:2},r)])]),nG(i(ru,function(n){var r=i(rr,function(n){return p(n,nO(0))},n),t=i(rr,function(n){return p(n,nO(1))},n);return(r||t)&&i(rr,function(n){return p(n,nk)},n)&&!(r&&t)},t))>=3);return i(rL,9,function(){switch(e){case 1:return 1;case 2:return 3;case 3:default:return 5;case 4:case 6:return 6;case 5:return 7}}()+(7>e?4>e?3:2:1)+u)}),rb=function(n){return i(ru,function(r){return p(i(rd,r,n),nk)},L([{dL:0,eL:0},{dL:1,eL:0},{dL:2,eL:0},{dL:0,eL:1},{dL:1,eL:1},{dL:2,eL:1},{dL:0,eL:2},{dL:1,eL:2},{dL:2,eL:2}]))},rl={$:2},rh={$:1},r$=e(function(n,r,t){var e=n(r);return e.$?t:i(s,e.a,t)}),rg=t(function(n,r){return o(re,r$(n),c,r)}),rp=function(n){var r=L([L([i(rd,{dL:0,eL:0},n),i(rd,{dL:1,eL:1},n),i(rd,{dL:2,eL:2},n)]),L([i(rd,{dL:2,eL:0},n),i(rd,{dL:1,eL:1},n),i(rd,{dL:0,eL:2},n)])]),t=T(n,T(L([L([i(rd,{dL:0,eL:0},n),i(rd,{dL:0,eL:1},n),i(rd,{dL:0,eL:2},n)]),L([i(rd,{dL:1,eL:0},n),i(rd,{dL:1,eL:1},n),i(rd,{dL:1,eL:2},n)]),L([i(rd,{dL:2,eL:0},n),i(rd,{dL:2,eL:1},n),i(rd,{dL:2,eL:2},n)])]),r));return rf(i(rg,function(n){if(!n.b||n.a.$||!n.b.b||n.b.a.$||!n.b.b.b||n.b.b.a.$||n.b.b.b.b)return nk;var r=n.a.a,t=n.b,e=t.a.a,u=t.b.a.a;return p(r,e)&&p(e,u)?nO(r):nk},t))},rm=t(function(n,r){return r.b?o(re,s,r,n):n}),ry=function(n){return o(re,rm,c,n)},rw=function(n){var r=rp(n);return r.$?!i(rr,function(n){return p(n,nk)},ry(n))&&p(rp(n),nk)?rh:rl:{$:0,a:r.a}},rT=function(n){return 2!==rw(n).$},rE=e(function(n,r,e){return i(nC,t(function(e,u){return p(e,r.eL)?i(nC,t(function(t,e){return p(t,r.dL)?nO(n):e}),u):u}),e)}),rx=t(function(n,r){return o(re,t(function(r,t){return i(s,n(r),t)}),c,r)}),rj=function(n){return{$:2,a:n}},rO={$:1},rk={$:0},rA=t(function(n,r){switch(n.$){case 0:return!p(r,rk);case 1:return!1;default:var t=n.a;switch(r.$){case 1:return!0;case 2:return y(t,r.a)>0;default:return!1}}}),rI=t(function(n,r){return i(rA,n,r)?n:r}),rM=function(n){return-n},rN=function(n){switch(n.$){case 2:return rj(-n.a);case 0:return rO;default:return rk}},rF=r(9,nd=function(n,r,t,u,a,c,d,s,L){if(!c||u(L))return rj(n(L));var v=e(function(e,o,d){for(;;){if(!o.b)return d;var v=o.b,b=rN(f(rF,function(r){return-n(r)},r,t,u,a,c-1,-s,-e,i(t,o.a,L))),l=i(rI,d,b),h=2===b.$?i(nK,e,b.a):e;if(y(h,s)>-1)return l;e=h,o=v,d=l}}),b=i(a,L,r(L));return b.b?o(v,d,b,rO):rj(n(L))},function(n){return function(r){return function(t){return function(e){return function(u){return function(i){return function(o){return function(a){return function(f){return nd(n,r,t,e,u,i,o,a,f)}}}}}}}}}),rG=t(function(n,r){return i(rx,function(r){return i(rd,r,n)},r)}),rR=function(n){return!n.b},rW=function(n){return+!n},rC=t(function(n,r){var t=nG(i(ru,function(r){return p(r,nO(n))},r)),e=nG(i(ru,function(r){return p(r,nO(rW(n)))},r)),u=nG(i(ru,function(n){return p(n,nk)},r));return t>0&&!e&&u>0}),rS=e(function(n,r,t){var e,u,a,f,d=o(rE,n,r,t),s=nG(i(ru,rC(n),i(rx,rG(d),(e=L([{dL:0,eL:r.eL},{dL:1,eL:r.eL},{dL:2,eL:r.eL}]),u=p(r.eL,r.dL)?L([{dL:0,eL:0},{dL:1,eL:1},{dL:2,eL:2}]):c,a=L([{dL:r.dL,eL:0},{dL:r.dL,eL:1},{dL:r.dL,eL:2}]),f=r.eL+r.dL===2?L([{dL:2,eL:0},{dL:1,eL:1},{dL:0,eL:2}]):c,T(L([e,a]),T(rR(u)?c:L([u]),rR(f)?c:L([f])))))));return 2>s?5*(1===s):20}),rJ=t(function(n,r){var t=nG(i(ru,function(r){return p(r,nO(n))},r)),e=nG(i(ru,function(r){return p(r,nO(rW(n)))},r)),u=nG(i(ru,function(n){return p(n,nk)},r));return 3===t?100:3===e?-100:2===t&&1===u?10:2===e&&1===u?-10:1===t&&2===u?1:1===e&&2===u?-1:0}),rD=t(function(n,r){var t,e,u,a=rw(r);switch(a.$){case 0:return p(a.a,n)?1e3:-1e3;case 1:return 0;default:var f={a2:i(rd,{dL:0,eL:0},r),cq:i(rd,{dL:1,eL:0},r),a3:i(rd,{dL:2,eL:0},r),cr:i(rd,{dL:0,eL:1},r),aF:i(rd,{dL:1,eL:1},r),cs:i(rd,{dL:2,eL:1},r),a4:i(rd,{dL:0,eL:2},r),ct:i(rd,{dL:1,eL:2},r),a5:i(rd,{dL:2,eL:2},r)},c=(u=f.aF).$?0:p(u.a,n)?3:-3,d=(e=nG(i(ru,function(r){return p(r,nO(rW(n)))},t=L([f.a2,f.a3,f.a4,f.a5]))),2*(nG(i(ru,function(r){return p(r,nO(n))},t))-e)),s=L([L([f.a2,f.cq,f.a3]),L([f.cr,f.aF,f.cs]),L([f.a4,f.ct,f.a5]),L([f.a2,f.cr,f.a4]),L([f.cq,f.aF,f.ct]),L([f.a3,f.cs,f.a5]),L([f.a2,f.aF,f.a5]),L([f.a3,f.aF,f.a4])]);return o(nF,E,0,i(rx,rJ(n),s))+c+d}}),rq=function(n){return n.b},rQ=e(function(n,r,t){return i(rx,n1,i(l,i(ro,rq,rM),i(rx,function(t){return w(t,function(t){var e,u=o(rE,n,t,r),a=(e=rw(u)).$?0:1e4*!!p(e.a,n);if(a>0)return a;var f=5e3*!rw(o(rE,rW(n),t,r)).$;return f>0?f:i(rD,n,u)+(1===t.eL&&1===t.dL?15:t.eL&&2!==t.eL||t.dL&&2!==t.dL?2:8)+o(rS,n,t,r)}(t))},t)))}),rU=u(function(n,r,e,u){var a=i(rx,function(e){var a=o(rE,n,e,r),c=f(rF,function(r){return i(rD,rW(n),r)},rb,t(function(r,t){return o(rE,rW(n),r,t)}),rT,rQ(rW(n)),u,-1e4,1e4,a);switch(c.$){case 2:return w(e,-c.a);case 0:return w(e,1e4);default:return w(e,-1e4)}},e);return o(nF,t(function(n,r){var t=n.a,e=n.b,u=r.a,i=r.b;return y(e,i)>0?w(nO(t),e):w(u,i)}),w(nk,-2e4),a).a}),r_=u(function(n,r,t,u){return o(e(function(t,e,o){for(;;){if(y(t,u)>0)return e;var f=a(rU,n,r,o,t),c=function(){if(f.$)return o;var n=f.a;return i(s,n,i(ru,function(r){return!p(r,n)},o))}();t+=1,e=f.$?e:nO(f.a),o=c}}),1,nk,t)}),rB=e(function(n,r,t){var e=rf(i(ru,function(t){var e=rw(o(rE,n,t,r));return!e.$&&p(e.a,n)},t)),u=rf(i(ru,function(t){return!rw(o(rE,rW(n),t,r)).$},t));return e.$?u:nO(e.a)}),rP=t(function(n,r){var t=rb(r),e=o(rB,n,r,t);if(e.$){var u=i(rv,t,r),f=o(rQ,n,r,t);return nG(t)>4?a(r_,n,r,f,u):a(rU,n,r,f,u)}return nO(e.a)}),rX=e(function(n,r,t){return n(r(t))}),rY=t(function(n,r){return!i(rr,i(rX,rs,n),r)}),rZ={$:3},rz=function(n){return{$:4,a:n}},rV=e(function(n,r,t){return{T:r,ae:n,Q:t}}),rH=r(6,ns=function(n,r,t,e,u,i){return{co:n,G:u,d_:r,bY:t,cW:i,b$:e}},function(n){return function(r){return function(t){return function(e){return function(u){return function(i){return ns(n,r,t,e,u,i)}}}}}}),rK=function(n){return{$:1,a:n}},r0=function(n){return{$:0,a:n}},r1=function(n){return{$:2,a:n}},r2=function(n){return{$:1,a:n}},r3=function(n){return{$:0,a:n}},r5=i(J,function(n){switch(n){case"Light":return r3(0);case"Dark":return r3(1);default:return r2("Invalid colorScheme: "+n)}},W),r4=i(J,function(n){switch(n){case"InvalidMove":return r3(0);case"GameLogicError":return r3(1);case"WorkerCommunicationError":return r3(2);case"JsonError":return r3(3);case"TimeoutError":return r3(4);default:return r3(5)}},W),r6=function(n){return{$:3,b:n}},r9=function(n){return n},r7=function(n){return{$:5,c:n}},r8=function(n){return{$:11,g:n}},tn=function(n){return r8(L([r7(nk),i(D,nO,n)]))},tr=q(nV),tt=t(function(n,r){return o(re,C,r,n)}),te=e(function(n,r,t){var e=function(n){return r8(L([n,r7(t)]))};return i(J,function(u){var o=i(Q,i(tt,n,R),u);if(o.$)return r3(t);var a=o.a,f=i(Q,e(r),a);return f.$?i(tt,n,e(r)):r3(f.a)},R)}),tu=u(function(n,r,t,e){return i(tr,o(te,L([n]),r,t),e)}),ti=t(function(n,r){return w(n,r)}),to=e(function(n,r,t){return i(tr,i(C,n,r),t)}),ta=(nb=i(J,function(n){switch(n){case"X":return r3(0);case"O":return r3(1);default:return r2("Invalid player: "+n)}},W),nl=i(J,function(n){switch(n){case"Waiting":return i(D,r0,i(C,"player",nb));case"Thinking":return i(D,rK,i(C,"player",nb));case"Winner":return i(D,r1,i(C,"player",nb));case"Draw":return r3(rZ);case"Error":return i(D,rz,a(tu,"recoverable",G,!0,a(tu,"errorType",r4,5,o(to,"message",W,r3(rV)))));default:return r2("Invalid game state type: "+n)}},i(C,"type",W)),nh=r6(r6(tn(nb))),a(tu,"maybeWindow",tn(o(q,ti,i(C,"width",F),i(C,"height",F))),nk,o(to,"colorScheme",r5,a(tu,"now",tn(i(D,r9,F)),nk,a(tu,"lastMove",tn(i(D,r9,F)),nk,o(to,"gameState",nl,o(to,"board",nh,r3(rH)))))))),tf=t(function(n,r){return 1>n?"":o(I,0,n,r)}),tc=function(n){var r=i(Q,ta,n);if(r.$){var e=r.a,u=100===(a=i(tf,100,i(Y,0,n))).length?a+"...":a;return n8({T:3,ae:"Worker failed to decode model: "+n_(e)+" (JSON: "+u+")",Q:!0})}var a,f,c=3!==nG((f=r.a).co)?ny(rn("Invalid model: board must have exactly 3 rows")):i(rY,function(n){return 3===nG(n)},f.co)?1===f.d_.$?nx(f):ny(rn("Worker should only receive Thinking state")):ny(rn("Invalid model: all rows must have exactly 3 columns"));return c.$?n8(c.a):function(n){var r=n.d_;if(1===r.$){var e,u,a,f,c,d,s,L,v=r.a,b=(u=3===nG(e=n.co)&&i(rY,function(n){return 3===nG(n)},e),s=9>=(d=(f=(a=o(nF,t(function(n,r){var t=r.a,e=r.b;return n.$?w(t,e):n.a?w(t,e+1):w(t+1,e)}),w(0,0),ry(e))).a)+(c=a.b)),L=p(f,c)||p(f,c+1),u?L?s?nx(e):ny(rn("Too many pieces on board - total: "+nA(d))):ny(rn("Invalid piece count - X: "+nA(f)+", O: "+nA(c))):ny(rn("Board has invalid dimensions - must be 3x3")));if(b.$)return n8(b.a);var l=i(rP,v,b.a);return l.$?n8({T:1,ae:"AI could not find a valid move - board may be full or invalid",Q:!0}):{$:0,a:l.a}}return n8(rn("Worker received unexpected game state"))}(c.a)},td=function(n){switch(n){case 0:return"InvalidMove";case 1:return"GameLogicError";case 2:return"WorkerCommunicationError";case 3:return"JsonError";case 4:return"TimeoutError";default:return"UnknownError"}},ts=function(n){return o(nF,t(function(n,r){return o(Z,n.a,n.b,r)}),{},n)},tL=(nt[nL="sendMove"]&&g(3),nt[nL]={e:nf,u:r9,a:function(n){var r=[],t=nt[n].u,u={$:2,b:function(n){var r=setTimeout(function(){n({$:0,a:0})},0);return function(){clearTimeout(r)}},c:null};return nt[n].b=u,nt[n].c=e(function(n,e){for(;e.b;e=e.b)for(var i=r,o=t(e.a),a=0;i.length>a;a++)i[a](o);return u}),{subscribe:function(n){r.push(n)},unsubscribe:function(n){var t=(r=r.slice()).indexOf(n);0>t||r.splice(t,1)}}}},ne(nL));n$={GameWorker:{init:nr({gp:function(){return w(0,n9)},hX:function(){return n7(tc)},ij:t(function(n,r){return w(r,tL(function(n){switch(n.$){case 0:var r=n.a;return ts(L([w("type","MoveMade"),w("position",ts(L([w("row",r.eL),w("col",r.dL)])))]));case 1:return ts(L([w("type","ResetGame")]));case 2:var t=n.a;return ts(L([w("type","GameError"),w("errorInfo",ts(L([w("message",t.ae),w("errorType",td(t.T)),w("recoverable",t.Q)])))]));case 3:var e=n.a;return ts(L([w("type","ColorScheme"),w("colorScheme",e?"Dark":"Light")]));case 4:var u=n.a;return ts(L([w("type","GetViewPort"),w("viewport",ts(L([w("scene",ts(L([w("width",u.eN.cg),w("height",u.eN.bU)]))),w("viewport",ts(L([w("x",u.cf.e7),w("y",u.cf.e8),w("width",u.cf.cg),w("height",u.cf.bU)])))])))]));case 5:var i=n.a,o=n.b;return ts(L([w("type","GetResize"),w("width",i),w("height",o)]));default:var a=n.a;return ts(L([w("type","Tick"),w("time",a)]))}}(n)))})})(r3(0))(0)}},n.Elm?function n(r,t){for(var e in t)e in r?"init"==e?g(6):n(r[e],t[e]):r[e]=t[e]}(n.Elm,n$):n.Elm=n$}(n.exports)}),e("1t6aQ")}();