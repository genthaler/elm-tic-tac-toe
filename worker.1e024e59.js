!function(){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},e={},t=r.parcelRequired732;null==t&&((t=function(r){if(r in n)return n[r].exports;if(r in e){var t=e[r];delete e[r];var u={id:r,exports:{}};return n[r]=u,t.call(u.exports,u,u.exports),u.exports}var o=Error("Cannot find module '"+r+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(r,n){e[r]=n},r.parcelRequired732=t);var u=t.register;u("1t6aQ",function(r,n){let e;var u=t("ektWR");console.log("Elm object:",u.Elm),console.log("Available Elm modules:",Object.keys(u.Elm||{}));try{if(!u.Elm||!u.Elm.TicTacToe.GameWorker)throw Error("GameWorker module not available. Available modules: "+Object.keys(u.Elm||{}));e=u.Elm.TicTacToe.GameWorker.init(),console.log("GameWorker initialized successfully")}catch(r){throw console.error("Failed to initialize GameWorker:",r),self.postMessage({type:"GameError",errorInfo:{message:"Worker initialization failed: "+r.message,errorType:"WorkerCommunicationError",recoverable:!0}}),r}self.onerror=r=>{console.error("Worker self error:",r)},self.onunhandledrejection=r=>{console.error("Worker unhandled rejection:",r)},self.onmessage=function({data:r}){console.log("data in worker",r),e&&e.ports&&e.ports.getModel?e.ports.getModel.send(r):(console.error("App or ports not available"),self.postMessage({type:"GameError",errorInfo:{message:"Worker app not properly initialized",errorType:"WorkerCommunicationError",recoverable:!0}}))},e&&e.ports&&e.ports.sendMove?e.ports.sendMove.subscribe(function(r){console.log("data from GameWorker",r),self.postMessage(r)}):console.error("Cannot subscribe to sendMove port - app not initialized")}),u("ektWR",function(r,n){!function(r){"use strict";function n(r,n,e){return e.a=r,e.f=n,e}function e(r){return n(2,r,function(n){return function(e){return r(n,e)}})}function t(r){return n(3,r,function(n){return function(e){return function(t){return r(n,e,t)}}})}function u(r){return n(4,r,function(n){return function(e){return function(t){return function(u){return r(n,e,t,u)}}}})}function o(r,n,e){return 2===r.a?r.f(n,e):r(n)(e)}function i(r,n,e,t){return 3===r.a?r.f(n,e,t):r(n)(e)(t)}function a(r,n,e,t,u){return 4===r.a?r.f(n,e,t,u):r(n)(e)(t)(u)}function f(r,n,e,t,u,o,i,a,f,c){return 9===r.a?r.f(n,e,t,u,o,i,a,f,c):r(n)(e)(t)(u)(o)(i)(a)(f)(c)}var c={$:0};function s(r,n){return{$:1,a:r,b:n}}var d=e(s);function l(r){for(var n=c,e=r.length;e--;)n=s(r[e],n);return n}function v(r){for(var n=[];r.b;r=r.b)n.push(r.a);return n}var b=t(function(r,n,e){for(var t=[];n.b&&e.b;n=n.b,e=e.b)t.push(o(r,n.a,e.a));return l(t)}),h=e(function(r,n){return l(v(n).sort(function(n,e){return w(r(n),r(e))}))}),$=t(function(r,n,e){for(var t=Array(r),u=0;r>u;u++)t[u]=e(n+u);return t}),p=e(function(r,n){for(var e=Array(r),t=0;r>t&&n.b;t++)e[t]=n.a,n=n.b;return e.length=t,T(e,n)});function g(r){throw Error("https://github.com/elm/core/blob/1.0.0/hints/"+r+".md")}function m(r,n){for(var e,t=[],u=y(r,n,0,t);u&&(e=t.pop());u=y(e.a,e.b,0,t));return u}function y(r,n,e,t){if(r===n)return!0;if("object"!=typeof r||null===r||null===n)return"function"==typeof r&&g(5),!1;if(e>100)return t.push(T(r,n)),!0;for(var u in 0>r.$&&(r=ry(r),n=ry(n)),r)if(!y(r[u],n[u],e+1,t))return!1;return!0}function w(r,n,e){if("object"!=typeof r)return r===n?0:n>r?-1:1;if(void 0===r.$)return(e=w(r.a,n.a))||(e=w(r.b,n.b))?e:w(r.c,n.c);for(;r.b&&n.b&&!(e=w(r.a,n.a));r=r.b,n=n.b);return e||(r.b?1:n.b?-1:0)}function T(r,n){return{a:r,b:n}}function E(r,n){if("string"==typeof r)return r+n;if(!r.b)return n;var e=s(r.a,n);r=r.b;for(var t=e;r.b;r=r.b)t=t.b=s(r.a,n);return e}var k=e(function(r,n){return r+n}),W=Math.ceil,O=Math.floor,M=Math.log,j=e(function(r,n){return n.split(r)}),A=e(function(r,n){return n.join(r)}),x=t(function(r,n,e){return e.slice(r,n)}),G=e(function(r,n){for(var e=n.length;e--;){var t=n[e],u=n.charCodeAt(e);if(56320>u||u>57343||(t=n[--e]+t),!r(t))return!1}return!0});function C(r){return{$:2,b:r}}var F=C(function(r){return"number"!=typeof r?X("an INT",r):r>-0x7fffffff&&0x7fffffff>r&&(0|r)===r?rW(r):!isFinite(r)||r%1?X("an INT",r):rW(r)}),I=C(function(r){return"boolean"==typeof r?rW(r):X("a BOOL",r)}),R=(C(function(r){return"number"==typeof r?rW(r):X("a FLOAT",r)}),C(function(r){return rW(r)})),N=C(function(r){return"string"==typeof r?rW(r):r instanceof String?rW(r+""):X("a STRING",r)}),D=e(function(r,n){return{$:6,d:r,b:n}});function L(r,n){return{$:9,f:r,g:n}}var J=e(function(r,n){return{$:10,b:n,h:r}}),S=e(function(r,n){return L(r,[n])}),q=t(function(r,n,e){return L(r,[n,e])}),Q=e(function(r,n){return z(r,n)});function z(r,n){switch(r.$){case 2:return r.b(n);case 5:return null===n?rW(r.c):X("null",n);case 3:return P(n)?B(r.b,n,l):X("a LIST",n);case 4:return P(n)?B(r.b,n,U):X("an ARRAY",n);case 6:var e=r.d;if("object"!=typeof n||null===n||!(e in n))return X("an OBJECT with a field named `"+e+"`",n);var t=z(r.b,n[e]);return r5(t)?t:rw(o(rE,e,t.a));case 7:var u=r.e;return P(n)?n.length>u?r5(t=z(r.b,n[u]))?t:rw(o(rk,u,t.a)):X("a LONGER array. Need index "+u+" but only see "+n.length+" entries",n):X("an ARRAY",n);case 8:if("object"!=typeof n||null===n||P(n))return X("an OBJECT",n);var i=c;for(var a in n)if(n.hasOwnProperty(a)){if(!r5(t=z(r.b,n[a])))return rw(o(rE,a,t.a));i=s(T(a,t.a),i)}return rW(rQ(i));case 9:for(var f=r.f,d=r.g,v=0;d.length>v;v++){if(!r5(t=z(d[v],n)))return t;f=f(t.a)}return rW(f);case 10:return r5(t=z(r.b,n))?z(r.h(t.a),n):t;case 11:for(var b=c,h=r.g;h.b;h=h.b){if(r5(t=z(h.a,n)))return t;b=s(t.a,b)}return rw(rO(rQ(b)));case 1:return rw(o(rT,r.a,n));case 0:return rW(r.a)}}function B(r,n,e){for(var t=n.length,u=Array(t),i=0;t>i;i++){var a=z(r,n[i]);if(!r5(a))return rw(o(rk,i,a.a));u[i]=a.a}return rW(e(u))}function P(r){return Array.isArray(r)||"undefined"!=typeof FileList&&r instanceof FileList}function U(r){return o(r3,r.length,function(n){return r[n]})}function X(r,n){return rw(o(rT,"Expecting "+r,n))}var _=e(function(r,n){return JSON.stringify(n,null,r)+""}),Y=t(function(r,n,e){return e[r]=n,e}),H=e(function(r,n){return{$:3,b:r,d:n}}),V=0,K=!1,Z=[];function rr(r){if(Z.push(r),!K){for(K=!0;r=Z.shift();)!function(r){for(;r.f;){var n=r.f.$;if(0===n||1===n){for(;r.g&&r.g.$!==n;)r.g=r.g.i;if(!r.g)return;r.f=r.g.b(r.f.a),r.g=r.g.i}else{if(2===n)return void(r.f.c=r.f.b(function(n){r.f=n,rr(r)}));if(5===n){if(0===r.h.length)return;r.f=r.f.b(r.h.shift())}else r.g={$:+(3!==n),b:r.f.b,i:r.g},r.f=r.f.d}}}(r);K=!1}}var rn=u(function(r,n,e,t){var u,f,c,s,d,l,v,b,h;return u=r.gO,f=r.iM,c=r.io,r5(s=o(Q,n,t?t.flags:void 0))||g(2),d={},v=(l=u(s.a)).a,b=function(){},h=function(r,n){var e;for(var t in re){var u=re[t];u.a&&((e=e||{})[t]=u.a(t,n)),r[t]=function(r,n){var e,t={g:n,h:void 0},u=r.c,f=r.d,c=r.e,s=r.f;return rr(e={$:0,e:V++,f:o(H,function r(n){return o(H,r,{$:5,b:function(r){var e=r.a;return 0===r.$?i(f,t,e,n):c&&s?a(u,t,e.i,e.j,n):i(u,t,c?e.i:e.j,n)}})},r.b),g:null,h:[]}),t.h=e}(u,n)}return e}(d,function(r,n){var e=o(f,r,v);b(v=e.a,n),ri(d,e.b,c(v))}),ri(d,l.b,c(v)),h?{ports:h}:{}}),re={};function rt(r){return function(n){return{$:1,k:r,l:n}}}var ru=[],ro=!1;function ri(r,n,e){if(ru.push({p:r,q:n,r:e}),!ro){ro=!0;for(var t;t=ru.shift();)!function(r,n,e){var t,u,o={};for(var i in ra(!0,n,o,null),ra(!1,e,o,null),r)t=r[i],u={$:"fx",a:o[i]||{i:c,j:c}},t.h.push(u),rr(t)}(t.p,t.q,t.r);ro=!1}}function ra(r,n,e,t){switch(n.$){case 1:var u,i,a=n.k,f=(u=n.l,o(r?re[a].e:re[a].f,function(r){for(var n=t;n;n=n.t)r=n.s(r);return r},u));return void(e[a]=(i=(i=e[a])||{i:c,j:c},r?i.i=s(f,i.i):i.j=s(f,i.j),i));case 2:for(var d=n.m;d.b;d=d.b)ra(r,d.a,e,t);return;case 3:return void ra(r,n.o,e,{s:n.n,t:t})}}var rf=e(function(r,n){return n}),rc,rs,rd,rl,rv,rb,rh,r$,rp,rg=e(function(r,n){return function(e){return r(n(e))}}),rm=t(function(r,n,e){for(;;){if(-2===e.$)return n;var t=e.d,u=r,o=i(r,e.b,e.c,i(rm,r,n,e.e));r=u,n=o,e=t}}),ry=function(r){return i(rm,t(function(r,n,e){return o(d,T(r,n),e)}),c,r)},rw=function(r){return{$:1,a:r}},rT=e(function(r,n){return{$:3,a:r,b:n}}),rE=e(function(r,n){return{$:0,a:r,b:n}}),rk=e(function(r,n){return{$:1,a:r,b:n}}),rW=function(r){return{$:0,a:r}},rO=function(r){return{$:2,a:r}},rM=function(r){return{$:0,a:r}},rj={$:1},rA=function(r){return r+""},rx=e(function(r,n){return o(A,r,v(n))}),rG=e(function(r,n){return l(o(j,r,n))}),rC=function(r){return o(rx,"\n    ",o(rG,"\n",r))},rF=t(function(r,n,e){for(;;){if(!e.b)return n;var t=e.b,u=r,i=o(r,e.a,n);r=u,n=i,e=t}}),rI=function(r){return i(rF,e(function(r,n){return n+1}),0,r)},rR=t(function(r,n,e){for(;;){if(w(r,n)>=1)return e;var t=r,u=n-1,i=o(d,n,e);r=t,n=u,e=i}}),rN=e(function(r,n){return i(rR,r,n,c)}),rD=e(function(r,n){return i(b,r,o(rN,0,rI(n)-1),n)}),rL=function(r){var n=r.charCodeAt(0);return 55296>n||n>56319?n:1024*(n-55296)+r.charCodeAt(1)-56320+65536},rJ=function(r){var n=rL(r);return n>=97&&122>=n},rS=function(r){var n=rL(r);return 90>=n&&n>=65},rq=function(r){var n;return rJ(r)||rS(r)||57>=(n=rL(r))&&n>=48},rQ=function(r){return i(rF,d,c,r)},rz=e(function(r,n){return"\n\n("+rA(r+1)+") "+rC(rB(n))}),rB=function(r){return o(rP,r,c)},rP=e(function(r,n){for(;;)switch(r.$){case 0:var e=r.a,t=r.b,u=function(){var r,n=isNaN(r=e.charCodeAt(0))?rj:rM(55296>r||r>56319?T(e[0],e.slice(1)):T(e[0]+e[1],e.slice(2)));if(1===n.$)return!1;var t,u=n.a,i=u.b;return(rJ(t=u.a)||rS(t))&&o(G,rq,i)}();r=t,n=o(d,u?"."+e:"['"+e+"']",n);continue;case 1:t=r.b;var i="["+rA(r.a)+"]";r=t,n=o(d,i,n);continue;case 2:var a=r.a;if(a.b){if(a.b.b){var f=(n.b?"The Json.Decode.oneOf at json"+o(rx,"",rQ(n)):"Json.Decode.oneOf")+" failed in the following "+rA(rI(a))+" ways:";return o(rx,"\n\n",o(d,f,o(rD,rz,a)))}r=t=a.a;continue}return"Ran into a Json.Decode.oneOf with no possibilities"+(n.b?" at json"+o(rx,"",rQ(n)):"!");default:var c=r.a,s=r.b;return(f=n.b?"Problem with the value at json"+o(rx,"",rQ(n))+":\n\n    ":"Problem with the given value:\n\n")+rC(o(_,4,s))+"\n\n"+c}}),rU=u(function(r,n,e,t){return{$:0,a:r,b:n,c:e,d:t}}),rX=[],r_=e(function(r,n){return M(n)/M(r)}),rY=W(o(r_,2,32)),rH=a(rU,0,rY,rX,rX),rV=e(function(r,n){return n(r)}),rK=function(r){return r.length},rZ=e(function(r,n){return w(r,n)>0?r:n}),r0=e(function(r,n){for(;;){var e=o(p,32,r),t=e.b,u=o(d,{$:0,a:e.a},n);if(!t.b)return rQ(u);r=t,n=u}}),r1=function(r){return r.a},r2=e(function(r,n){for(;;){var e=W(n/32);if(1===e)return o(p,32,r).a;r=o(r0,r,c),n=e}}),r6=e(function(r,n){if(n.r){var e=32*n.r,t=O(o(r_,32,e-1)),u=o(r2,r?rQ(n.w):n.w,n.r);return a(rU,rK(n.u)+e,o(rZ,5,t*rY),u,n.u)}return a(rU,rK(n.u),rY,rX,n.u)}),r8=n(5,rc=function(r,n,e,t,u){for(;;){if(0>n)return o(r6,!1,{w:t,r:e/32|0,u:u});var a={$:1,a:i($,32,n,r)};n-=32,t=o(d,a,t)}},function(r){return function(n){return function(e){return function(t){return function(u){return rc(r,n,e,t,u)}}}}}),r3=e(function(r,n){if(r>0){var e,t,u=r%32;return e=r-u-32,t=i($,u,r-u,n),5===r8.a?r8.f(n,e,r,c,t):r8(n)(e)(r)(c)(t)}return rH}),r5=function(r){return!r.$},r4={$:2,m:c},r9=(re[rv="getModel"]&&g(3),re[rv]={f:rg,u:R,a:function(r,n){var e=c,u=re[r].u,i={$:0,a:null};return re[r].b=i,re[r].c=t(function(r,n){return e=n,i}),{send:function(r){var t=o(Q,u,r);r5(t)||g(4);for(var i=t.a,a=e;a.b;a=a.b)n(a.a(i))}}}},rt(rv)),r7=function(r){return{$:2,a:r}},nr=function(r){return{T:2,ae:r,Q:!0}},nn=u(function(r,n,e,t){if(t.b){var u=t.a,f=t.b;if(f.b){var c=f.a,s=f.b;if(s.b){var d=s.a,l=s.b;if(l.b){var v=l.b;return o(r,u,o(r,c,o(r,d,o(r,l.a,e>500?i(rF,r,n,rQ(v)):a(nn,r,n,e+1,v)))))}return o(r,u,o(r,c,o(r,d,n)))}return o(r,u,o(r,c,n))}return o(r,u,n)}return n}),ne=t(function(r,n,e){return a(nn,r,n,0,e)}),nt=e(function(r,n){return i(ne,e(function(n,e){return r(n)?o(d,n,e):e}),c,n)}),nu=e(function(r,n){return n.$?rj:r(n.a)}),no=t(function(r,n,e){return n(r(e))}),ni=e(function(r,n){for(;;){if(r>0&&n.b){r-=1,n=n.b;continue}return n}}),na=function(r){return r.b?rM(r.a):rj},nf=e(function(r,n){return n.$?r:n.a}),nc=e(function(r,n){return 0>r.e6||r.e6>2||0>r.d8||r.d8>2?rj:o(nf,rj,o(nu,o(no,ni(r.d8),na),na(o(ni,r.e6,n))))}),ns=e(function(r,n){for(;;){if(!n.b)return!1;var e=n.b;if(r(n.a))return!0;n=e}}),nd=e(function(r,n){return o(ns,function(n){return m(n,r)},n)}),nl=function(r){return!r},nv=e(function(r,n){return 0>w(r,n)?r:n}),nb=e(function(r,n){var e,t=rI(r),u=+(e=l([l([o(nc,{d8:0,e6:0},n),o(nc,{d8:1,e6:0},n),o(nc,{d8:2,e6:0},n)]),l([o(nc,{d8:0,e6:1},n),o(nc,{d8:1,e6:1},n),o(nc,{d8:2,e6:1},n)]),l([o(nc,{d8:0,e6:2},n),o(nc,{d8:1,e6:2},n),o(nc,{d8:2,e6:2},n)]),l([o(nc,{d8:0,e6:0},n),o(nc,{d8:0,e6:1},n),o(nc,{d8:0,e6:2},n)]),l([o(nc,{d8:1,e6:0},n),o(nc,{d8:1,e6:1},n),o(nc,{d8:1,e6:2},n)]),l([o(nc,{d8:2,e6:0},n),o(nc,{d8:2,e6:1},n),o(nc,{d8:2,e6:2},n)]),l([o(nc,{d8:0,e6:0},n),o(nc,{d8:1,e6:1},n),o(nc,{d8:2,e6:2},n)]),l([o(nc,{d8:2,e6:0},n),o(nc,{d8:1,e6:1},n),o(nc,{d8:0,e6:2},n)])]),rI(o(nt,function(r){var n=o(nd,rM(0),r),e=o(nd,rM(1),r);return(n||e)&&o(nd,rj,r)&&!(n&&e)},e))>=3);return o(nv,9,function(){switch(t){case 1:return 1;case 2:return 3;case 3:default:return 5;case 4:case 6:return 6;case 5:return 7}}()+(7>t?4>t?3:2:1)+u)}),nh=function(r){return o(nt,function(n){return m(o(nc,n,r),rj)},l([{d8:0,e6:0},{d8:1,e6:0},{d8:2,e6:0},{d8:0,e6:1},{d8:1,e6:1},{d8:2,e6:1},{d8:0,e6:2},{d8:1,e6:2},{d8:2,e6:2}]))},n$={$:2},np={$:1},ng=t(function(r,n,e){var t=r(n);return t.$?e:o(d,t.a,e)}),nm=e(function(r,n){return i(ne,ng(r),c,n)}),ny=function(r){var n=l([l([o(nc,{d8:0,e6:0},r),o(nc,{d8:1,e6:1},r),o(nc,{d8:2,e6:2},r)]),l([o(nc,{d8:2,e6:0},r),o(nc,{d8:1,e6:1},r),o(nc,{d8:0,e6:2},r)])]),e=E(r,E(l([l([o(nc,{d8:0,e6:0},r),o(nc,{d8:0,e6:1},r),o(nc,{d8:0,e6:2},r)]),l([o(nc,{d8:1,e6:0},r),o(nc,{d8:1,e6:1},r),o(nc,{d8:1,e6:2},r)]),l([o(nc,{d8:2,e6:0},r),o(nc,{d8:2,e6:1},r),o(nc,{d8:2,e6:2},r)])]),n));return na(o(nm,function(r){if(!r.b||r.a.$||!r.b.b||r.b.a.$||!r.b.b.b||r.b.b.a.$||r.b.b.b.b)return rj;var n=r.a.a,e=r.b,t=e.a.a,u=e.b.a.a;return m(n,t)&&m(t,u)?rM(n):rj},e))},nw=e(function(r,n){return n.b?i(ne,d,n,r):r}),nT=function(r){return i(ne,nw,c,r)},nE=function(r){var n=ny(r);return n.$?!o(nd,rj,nT(r))&&m(ny(r),rj)?np:n$:{$:0,a:n.a}},nk=function(r){return 2!==nE(r).$},nW=t(function(r,n,t){return o(rD,e(function(t,u){return m(t,n.e6)?o(rD,e(function(e,t){return m(e,n.d8)?rM(r):t}),u):u}),t)}),nO=e(function(r,n){return i(ne,e(function(n,e){return o(d,r(n),e)}),c,n)}),nM=function(r){return{$:2,a:r}},nj={$:1},nA={$:0},nx=e(function(r,n){switch(r.$){case 0:return!m(n,nA);case 1:return!1;default:var e=r.a;switch(n.$){case 1:return!0;case 2:return w(e,n.a)>0;default:return!1}}}),nG=e(function(r,n){return o(nx,r,n)?r:n}),nC=function(r){return-r},nF=function(r){switch(r.$){case 2:return nM(-r.a);case 0:return nj;default:return nA}},nI=n(9,rs=function(r,n,e,u,a,c,s,d,l){if(!c||u(l))return nM(r(l));var v=t(function(t,i,s){for(;;){if(!i.b)return s;var v=i.b,b=nF(f(nI,function(n){return-r(n)},n,e,u,a,c-1,-d,-t,o(e,i.a,l))),h=o(nG,s,b),$=2===b.$?o(rZ,t,b.a):t;if(w($,d)>-1)return h;t=$,i=v,s=h}}),b=o(a,l,n(l));return b.b?i(v,s,b,nj):nM(r(l))},function(r){return function(n){return function(e){return function(t){return function(u){return function(o){return function(i){return function(a){return function(f){return rs(r,n,e,t,u,o,i,a,f)}}}}}}}}}),nR=e(function(r,n){return o(nO,function(n){return o(nc,n,r)},n)}),nN=function(r){return!r.b},nD=function(r){return+!r},nL=e(function(r,n){var e=rI(o(nt,function(n){return m(n,rM(r))},n)),t=rI(o(nt,function(n){return m(n,rM(nD(r)))},n)),u=rI(o(nt,function(r){return m(r,rj)},n));return e>0&&!t&&u>0}),nJ=t(function(r,n,e){var t,u,a,f,s=i(nW,r,n,e),d=rI(o(nt,nL(r),o(nO,nR(s),(t=l([{d8:0,e6:n.e6},{d8:1,e6:n.e6},{d8:2,e6:n.e6}]),u=m(n.e6,n.d8)?l([{d8:0,e6:0},{d8:1,e6:1},{d8:2,e6:2}]):c,a=l([{d8:n.d8,e6:0},{d8:n.d8,e6:1},{d8:n.d8,e6:2}]),f=n.e6+n.d8===2?l([{d8:2,e6:0},{d8:1,e6:1},{d8:0,e6:2}]):c,E(l([t,a]),E(nN(u)?c:l([u]),nN(f)?c:l([f])))))));return 2>d?5*(1===d):20}),nS=e(function(r,n){var e=rI(o(nt,function(n){return m(n,rM(r))},n));if(3===e)return 100;var t=rI(o(nt,function(n){return m(n,rM(nD(r)))},n));if(3===t)return -100;var u=rI(o(nt,function(r){return m(r,rj)},n));return 2===e&&1===u?10:2===t&&1===u?-10:1===e&&2===u?1:1===t&&2===u?-1:0}),nq=e(function(r,n){var e,t,u,a=nE(n);switch(a.$){case 0:return m(a.a,r)?1e3:-1e3;case 1:return 0;default:var f={a2:o(nc,{d8:0,e6:0},n),cC:o(nc,{d8:1,e6:0},n),a3:o(nc,{d8:2,e6:0},n),cD:o(nc,{d8:0,e6:1},n),aF:o(nc,{d8:1,e6:1},n),cE:o(nc,{d8:2,e6:1},n),a4:o(nc,{d8:0,e6:2},n),cF:o(nc,{d8:1,e6:2},n),a5:o(nc,{d8:2,e6:2},n)},c=(u=f.aF).$?0:m(u.a,r)?3:-3,s=(t=rI(o(nt,function(n){return m(n,rM(nD(r)))},e=l([f.a2,f.a3,f.a4,f.a5]))),2*(rI(o(nt,function(n){return m(n,rM(r))},e))-t)),d=l([l([f.a2,f.cC,f.a3]),l([f.cD,f.aF,f.cE]),l([f.a4,f.cF,f.a5]),l([f.a2,f.cD,f.a4]),l([f.cC,f.aF,f.cF]),l([f.a3,f.cE,f.a5]),l([f.a2,f.aF,f.a5]),l([f.a3,f.aF,f.a4])]);return i(rF,k,0,o(nO,nS(r),d))+c+s}}),nQ=function(r){return r.b},nz=t(function(r,n,e){return o(nO,r1,o(h,o(no,nQ,nC),o(nO,function(e){return T(e,function(e){var t,u=i(nW,r,e,n),a=(t=nE(u)).$?0:1e4*!!m(t.a,r);if(a>0)return a;var f=5e3*!nE(i(nW,nD(r),e,n)).$;return f>0?f:o(nq,r,u)+(1===e.e6&&1===e.d8?15:e.e6&&2!==e.e6||e.d8&&2!==e.d8?2:8)+i(nJ,r,e,n)}(e))},e)))}),nB=u(function(r,n,t,u){var a=o(nO,function(t){var a=i(nW,r,t,n),c=f(nI,function(n){return o(nq,nD(r),n)},nh,e(function(n,e){return i(nW,nD(r),n,e)}),nk,nz(nD(r)),u,-1e4,1e4,a);switch(c.$){case 2:return T(t,-c.a);case 0:return T(t,1e4);default:return T(t,-1e4)}},t);return i(rF,e(function(r,n){var e=r.a,t=r.b,u=n.a,o=n.b;return w(t,o)>0?T(rM(e),t):T(u,o)}),T(rj,-2e4),a).a}),nP=u(function(r,n,e,u){return i(t(function(e,t,i){for(;;){if(w(e,u)>0)return t;var f=a(nB,r,n,i,e),c=function(){if(f.$)return i;var r=f.a;return o(d,r,o(nt,function(n){return!m(n,r)},i))}();e+=1,t=f.$?t:rM(f.a),i=c}}),1,rj,e)}),nU=t(function(r,n,e){var t=na(o(nt,function(e){var t=nE(i(nW,r,e,n));return!t.$&&m(t.a,r)},e));return t.$?na(o(nt,function(e){return!nE(i(nW,nD(r),e,n)).$},e)):rM(t.a)}),nX=e(function(r,n){var e=nh(n),t=i(nU,r,n,e);if(t.$){var u=o(nb,e,n),f=i(nz,r,n,e);return rI(e)>4?a(nP,r,n,f,u):a(nB,r,n,f,u)}return rM(t.a)}),n_=t(function(r,n,e){return r(n(e))}),nY=e(function(r,n){return!o(ns,o(n_,nl,r),n)}),nH={$:3},nV=function(r){return{$:4,a:r}},nK=t(function(r,n,e){return{T:n,ae:r,Q:e}}),nZ=n(6,rd=function(r,n,e,t,u,o){return{cq:r,H:u,en:n,bX:e,db:o,b_:t}},function(r){return function(n){return function(e){return function(t){return function(u){return function(o){return rd(r,n,e,t,u,o)}}}}}}),n0=function(r){return{$:1,a:r}},n1=function(r){return{$:0,a:r}},n2=function(r){return{$:2,a:r}},n6=o(S,function(r){switch(r){case"Light":default:return 0;case"Dark":return 1}},N),n8=o(S,function(r){switch(r){case"InvalidMove":return 0;case"GameLogicError":return 1;case"WorkerCommunicationError":return 2;case"JsonError":return 3;case"TimeoutError":return 4;default:return 5}},N),n3=function(r){return{$:1,a:r}},n5=function(r){return{$:3,b:r}},n4=function(r){return r},n9=function(r){return{$:5,c:r}},n7=function(r){return{$:11,g:r}},er=function(r){return n7(l([n9(rj),o(S,rM,r)]))},en=q(rV),ee=e(function(r,n){return i(ne,D,n,r)}),et=function(r){return{$:0,a:r}},eu=t(function(r,n,e){var t=function(r){return n7(l([r,n9(e)]))};return o(J,function(u){var i=o(Q,o(ee,r,R),u);if(i.$)return et(e);var a=i.a,f=o(Q,t(n),a);return f.$?o(ee,r,t(n)):et(f.a)},R)}),eo=u(function(r,n,e,t){return o(en,i(eu,l([r]),n,e),t)}),ei=e(function(r,n){return T(r,n)}),ea=t(function(r,n,e){return o(en,o(D,r,n),e)}),ef=(rb=o(J,function(r){switch(r){case"X":return et(0);case"O":return et(1);default:return n3("Invalid player: "+r)}},N),rh=o(J,function(r){switch(r){case"Waiting":return o(S,n1,o(D,"player",rb));case"Thinking":return o(S,n0,o(D,"player",rb));case"Winner":return o(S,n2,o(D,"player",rb));case"Draw":return et(nH);case"Error":return o(S,nV,a(eo,"recoverable",I,!0,a(eo,"errorType",n8,5,i(ea,"message",N,et(nK)))));default:return n3("Invalid game state type: "+r)}},o(D,"type",N)),r$=n5(n5(er(rb))),a(eo,"maybeWindow",er(i(q,ei,o(D,"width",F),o(D,"height",F))),rj,a(eo,"colorScheme",n6,0,a(eo,"now",er(o(S,n4,F)),rj,a(eo,"lastMove",er(o(S,n4,F)),rj,i(ea,"gameState",rh,i(ea,"board",r$,et(nZ)))))))),ec=e(function(r,n){return 1>r?"":i(x,0,r,n)}),es=function(r){var n=o(Q,ef,r);if(n.$){var t=n.a,u=100===(a=o(ec,100,o(_,0,r))).length?a+"...":a;return r7({T:3,ae:"Worker failed to decode model: "+rB(t)+" (JSON: "+u+")",Q:!0})}var a,f,c=3!==rI((f=n.a).cq)?rw(nr("Invalid model: board must have exactly 3 rows")):o(nY,function(r){return 3===rI(r)},f.cq)?1===f.en.$?rW(f):rw(nr("Worker should only receive Thinking state")):rw(nr("Invalid model: all rows must have exactly 3 columns"));return c.$?r7(c.a):function(r){var n=r.en;if(1===n.$){var t=n.a,u=function(r){var n=3===rI(r)&&o(nY,function(r){return 3===rI(r)},r),t=i(rF,e(function(r,n){var e=n.a,t=n.b;return r.$?T(e,t):r.a?T(e,t+1):T(e+1,t)}),T(0,0),nT(r)),u=t.a,a=t.b;if(n){if(m(u,a)||m(u,a+1)){var f=u+a;return f>9?rw(nr("Too many pieces on board - total: "+rA(f))):rW(r)}return rw(nr("Invalid piece count - X: "+rA(u)+", O: "+rA(a)))}return rw(nr("Board has invalid dimensions - must be 3x3"))}(r.cq);if(u.$)return r7(u.a);var a=o(nX,t,u.a);return a.$?r7({T:1,ae:"AI could not find a valid move - board may be full or invalid",Q:!0}):{$:0,a:a.a}}return r7(nr("Worker received unexpected game state"))}(c.a)},ed=function(r){switch(r){case 0:return"InvalidMove";case 1:return"GameLogicError";case 2:return"WorkerCommunicationError";case 3:return"JsonError";case 4:return"TimeoutError";default:return"UnknownError"}},el=function(r){return i(rF,e(function(r,n){return i(Y,r.a,r.b,n)}),{},r)},ev=(re[rl="sendMove"]&&g(3),re[rl]={e:rf,u:n4,a:function(r){var n=[],e=re[r].u,u={$:2,b:function(r){var n=setTimeout(function(){r({$:0,a:0})},0);return function(){clearTimeout(n)}},c:null};return re[r].b=u,re[r].c=t(function(r,t){for(;t.b;t=t.b)for(var o=n,i=e(t.a),a=0;o.length>a;a++)o[a](i);return u}),{subscribe:function(r){n.push(r)},unsubscribe:function(r){var e=(n=n.slice()).indexOf(r);0>e||n.splice(e,1)}}}},rt(rl));rp={TicTacToe:{GameWorker:{init:rn({gO:function(){return T(0,r4)},io:function(){return r9(es)},iM:e(function(r,n){return T(n,ev(function(r){switch(r.$){case 0:var n=r.a;return el(l([T("type","MoveMade"),T("position",el(l([T("row",n.e6),T("col",n.d8)])))]));case 1:return el(l([T("type","ResetGame")]));case 2:var e=r.a;return el(l([T("type","GameError"),T("errorInfo",el(l([T("message",e.ae),T("errorType",ed(e.T)),T("recoverable",e.Q)])))]));case 3:var t=r.a;return el(l([T("type","ColorScheme"),T("colorScheme",t?"Dark":"Light")]));case 4:var u=r.a;return el(l([T("type","GetViewPort"),T("viewport",el(l([T("scene",el(l([T("width",u.e8.ce),T("height",u.e8.bT)]))),T("viewport",el(l([T("x",u.cd.fu),T("y",u.cd.fv),T("width",u.cd.ce),T("height",u.cd.bT)])))])))]));case 5:var o=r.a,i=r.b;return el(l([T("type","GetResize"),T("width",o),T("height",i)]));case 6:var a=r.a;return el(l([T("type","Tick"),T("time",a)]));default:var f=r.a;return el(l([T("type","NavigateToRoute"),T("route","/"+function(r){switch(r){case 0:return"landing";case 1:return"tic-tac-toe";case 2:return"robot-game";default:return"style-guide"}}(f))]))}}(r)))})})(et(0))(0)}}},r.Elm?function r(n,e){for(var t in e)t in n?"init"==t?g(6):r(n[t],e[t]):n[t]=e[t]}(r.Elm,rp):r.Elm=rp}(r.exports)}),t("1t6aQ")}();